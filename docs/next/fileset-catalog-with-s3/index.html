<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-fileset-catalog-with-s3" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Fileset catalog with S3 | Apache Gravitino</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gravitino.apache.org/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://gravitino.apache.org/img/social-card.png"><meta data-rh="true" property="og:url" content="https://gravitino.apache.org/docs/next/fileset-catalog-with-s3"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fileset catalog with S3 | Apache Gravitino"><meta data-rh="true" name="description" content="This document explains how to configure a Fileset catalog with S3 in Gravitino."><meta data-rh="true" property="og:description" content="This document explains how to configure a Fileset catalog with S3 in Gravitino."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gravitino.apache.org/docs/next/fileset-catalog-with-s3"><link data-rh="true" rel="alternate" href="https://gravitino.apache.org/docs/next/fileset-catalog-with-s3" hreflang="en"><link data-rh="true" rel="alternate" href="https://gravitino.apache.org/docs/next/fileset-catalog-with-s3" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Gravitino RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Gravitino Atom Feed">









<script src="/js/matomo.js" async></script><link rel="stylesheet" href="/assets/css/styles.b5ab46bd.css">
<script src="/assets/js/runtime~main.3fc7933d.js" defer="defer"></script>
<script src="/assets/js/main.339b463a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_vVwm" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Logo" class="themedComponent_QZ3t themedComponent--light_Y46D"><img src="/img/logo.svg" alt="Logo" class="themedComponent_QZ3t themedComponent--dark_PLWD"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Apache Gravitino</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/contrib">Contributing</a><a class="navbar__item navbar__link" href="/downloads">Downloads</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/next/">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/next/fileset-catalog-with-s3">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li><li><a href="https://github.com/apache/gravitino/blob/main/CODE_OF_CONDUCT.md" target="_blank" rel="noopener noreferrer" class="dropdown__link">Code of Conduct</a></li></ul></div><a href="https://github.com/apache/gravitino" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer_UcNr"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_zxYo"><div class="docsWrapper_Fn4Y"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Y5pn" type="button"></button><div class="docRoot_yEwu"><aside class="theme-doc-sidebar-container docSidebarContainer_RG3o"><div class="sidebarViewport_HdAJ"><div class="sidebar_mhZE"><div class="tw"><div class="relative my-2 px-2"><button class="border-none relative w-full cursor-default rounded-md bg-white dark:bg-[#21222b] dark:text-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:text-sm sm:leading-6" id="headlessui-listbox-button-:R32llaqh:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><span class="flex items-center"><span class="ml-3 block truncate">Next</span></span><span class="pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-5 w-5 text-gray-400"><path fill-rule="evenodd" d="M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z" clip-rule="evenodd"></path></svg></span></button></div></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/">What&#x27;s Apache Gravitino?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/getting-started/index">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/how-to-install">Install</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/iceberg-rest-service">Iceberg REST catalog service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/lance-rest-service">Lance REST service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/gravitino-mcp-server">Gravitino MCP server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/webui">Web UI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/next/jdbc-doris-catalog">Catalogs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/next/jdbc-doris-catalog">Relational</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/next/fileset-catalog-index">Fileset</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/fileset-catalog-index">Fileset catalog index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/fileset-catalog">Fileset catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/fileset-catalog-with-s3">Fileset catalog with s3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/fileset-catalog-with-gcs">Fileset catalog with gcs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/fileset-catalog-with-oss">Fileset catalog with oss</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/fileset-catalog-with-adls">Fileset catalog with adls</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/next/kafka-catalog">Messaging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/next/model-catalog">Model</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/trino-connector/index">Trino connector</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/spark-connector/spark-connector">Spark connector</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/flink-connector/flink-connector">Flink connector</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/daft-connector">Daft connector</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/gravitino-server-config">Server administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/lineage/lineage">Lineage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/security/security">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/how-to-use-the-playground">Gravitino playground</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/manage-metalake-using-gravitino">Programming guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/how-to-build">Development guides</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/glossary">Apache Gravitino Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_CDum"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_L3zo"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Apache Gravitino<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/1.1.0/fileset-catalog-with-s3">latest version</a></b> (<!-- -->1.1.0<!-- -->).</div></div><div class="docItemContainer_zUNB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_sXfu" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_uPMS"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Catalogs</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Fileset</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Fileset catalog with s3</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_gzg7 theme-doc-toc-mobile tocMobile_GOmW"><button type="button" class="clean-btn tocCollapsibleButton_gMej">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Fileset catalog with S3</h1></header><div class="row"><div class="col col--12 markdown"><p>This document explains how to configure a Fileset catalog with S3 in Gravitino.</p>
<h2 class="anchor anchorWithStickyNavbar_IesJ" id="prerequisites">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/docs/next/fileset-catalog-with-s3#prerequisites">​</a></h2>
<p>To create a Fileset catalog with S3, follow these steps:</p>
<ol>
<li>Download the <a href="https://mvnrepository.com/artifact/org.apache.gravitino/gravitino-aws-bundle" target="_blank" rel="noopener noreferrer"><code>gravitino-aws-bundle-${gravitino-version}.jar</code></a> file.</li>
<li>Place this file in the Gravitino Fileset catalog classpath at <code>${GRAVITINO_HOME}/catalogs/fileset/libs/</code>.</li>
<li>Start the Gravitino server using the following command:</li>
</ol>
<div class="language-bash codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-bash codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ${GRAVITINO_HOME}/bin/gravitino-server.sh start</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once the server is up and running, you can proceed to configure the Fileset catalog with S3. In the rest of this document we will use <code>http://localhost:8090</code> as the Gravitino server URL, please replace it with your actual server URL.</p>
<h2 class="anchor anchorWithStickyNavbar_IesJ" id="configurations-for-creating-a-fileset-catalog-with-s3">Configurations for creating a Fileset catalog with S3<a class="hash-link" aria-label="Direct link to Configurations for creating a Fileset catalog with S3" title="Direct link to Configurations for creating a Fileset catalog with S3" href="/docs/next/fileset-catalog-with-s3#configurations-for-creating-a-fileset-catalog-with-s3">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="configurations-for-s3-fileset-catalog">Configurations for S3 Fileset Catalog<a class="hash-link" aria-label="Direct link to Configurations for S3 Fileset Catalog" title="Direct link to Configurations for S3 Fileset Catalog" href="/docs/next/fileset-catalog-with-s3#configurations-for-s3-fileset-catalog">​</a></h3>
<p>In addition to the basic configurations mentioned in <a href="/docs/next/fileset-catalog#catalog-properties">Fileset-catalog-catalog-configuration</a>, the following properties are necessary to configure a Fileset catalog with S3:</p>
<table><thead><tr><th>Configuration item</th><th>Description</th><th>Default value</th><th>Required</th><th>Since version</th></tr></thead><tbody><tr><td><code>filesystem-providers</code></td><td>The file system providers to add. Set it to <code>s3</code> if it&#x27;s a S3 fileset, or a comma separated string that contains <code>s3</code> like <code>gs,s3</code> to support multiple kinds of fileset including <code>s3</code>.</td><td>(none)</td><td>Yes</td><td>0.7.0-incubating</td></tr><tr><td><code>default-filesystem-provider</code></td><td>The name default filesystem providers of this Fileset catalog if users do not specify the scheme in the URI. Default value is <code>builtin-local</code>, for S3, if we set this value, we can omit the prefix &#x27;s3a://&#x27; in the location.</td><td><code>builtin-local</code></td><td>No</td><td>0.7.0-incubating</td></tr><tr><td><code>s3-endpoint</code></td><td>The endpoint of the AWS S3.</td><td>(none)</td><td>Yes</td><td>0.7.0-incubating</td></tr><tr><td><code>s3-access-key-id</code></td><td>The access key of the AWS S3.</td><td>(none)</td><td>Yes</td><td>0.7.0-incubating</td></tr><tr><td><code>s3-secret-access-key</code></td><td>The secret key of the AWS S3.</td><td>(none)</td><td>Yes</td><td>0.7.0-incubating</td></tr><tr><td><code>credential-providers</code></td><td>The credential provider types, separated by comma, possible value can be <code>s3-token</code>, <code>s3-secret-key</code>. As the default authentication type is using AKSK as the above, this configuration can enable credential vending provided by Gravitino server and client will no longer need to provide authentication information like AKSK to access S3 by GVFS. Once it&#x27;s set, more configuration items are needed to make it works, please see <a href="/docs/next/security/credential-vending#s3-credentials">s3-credential-vending</a></td><td>(none)</td><td>No</td><td>0.8.0-incubating</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="configurations-for-a-schema">Configurations for a schema<a class="hash-link" aria-label="Direct link to Configurations for a schema" title="Direct link to Configurations for a schema" href="/docs/next/fileset-catalog-with-s3#configurations-for-a-schema">​</a></h3>
<p>To learn how to create a schema, refer to <a href="/docs/next/fileset-catalog#schema-properties">Schema configurations</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="configurations-for-a-fileset">Configurations for a fileset<a class="hash-link" aria-label="Direct link to Configurations for a fileset" title="Direct link to Configurations for a fileset" href="/docs/next/fileset-catalog-with-s3#configurations-for-a-fileset">​</a></h3>
<p>For more details on creating a fileset, Refer to <a href="/docs/next/fileset-catalog#fileset-properties">Fileset configurations</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_IesJ" id="using-the-fileset-catalog-with-s3">Using the Fileset catalog with S3<a class="hash-link" aria-label="Direct link to Using the Fileset catalog with S3" title="Direct link to Using the Fileset catalog with S3" href="/docs/next/fileset-catalog-with-s3#using-the-fileset-catalog-with-s3">​</a></h2>
<p>This section demonstrates how to use the Fileset catalog with S3 in Gravitino, with a complete example.</p>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="step1-create-a-fileset-catalog-with-s3">Step1: Create a Fileset Catalog with S3<a class="hash-link" aria-label="Direct link to Step1: Create a Fileset Catalog with S3" title="Direct link to Step1: Create a Fileset Catalog with S3" href="/docs/next/fileset-catalog-with-s3#step1-create-a-fileset-catalog-with-s3">​</a></h3>
<p>First of all, you need to create a Fileset catalog with S3. The following example shows how to create a Fileset catalog with S3:</p>
<div class="tabs-container tabList_ruUt"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_ncTh tabs__item--active">Shell</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_ncTh">Java</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_ncTh">Python</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_KNVS"><div class="language-shell codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-shell codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Accept: application/vnd.gravitino.v1+json&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Content-Type: application/json&quot; -d &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;test_catalog&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: &quot;FILESET&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;comment&quot;: &quot;This is a S3 fileset catalog&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;location&quot;: &quot;s3a://bucket/root&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;s3-access-key-id&quot;: &quot;access_key&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;s3-secret-access-key&quot;: &quot;secret_key&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;s3-endpoint&quot;: &quot;http://s3.ap-northeast-1.amazonaws.com&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;filesystem-providers&quot;: &quot;s3&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&#x27; http://localhost:8090/api/metalakes/metalake/catalogs</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_KNVS" hidden=""><div class="language-java codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-java codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">GravitinoClient gravitinoClient = GravitinoClient</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .builder(&quot;http://localhost:8090&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .withMetalake(&quot;metalake&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Map&lt;String, String&gt; s3Properties = ImmutableMap.&lt;String, String&gt;builder()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .put(&quot;location&quot;, &quot;s3a://bucket/root&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .put(&quot;s3-access-key-id&quot;, &quot;access_key&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .put(&quot;s3-secret-access-key&quot;, &quot;secret_key&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .put(&quot;s3-endpoint&quot;, &quot;http://s3.ap-northeast-1.amazonaws.com&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .put(&quot;filesystem-providers&quot;, &quot;s3&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Catalog s3Catalog = gravitinoClient.createCatalog(&quot;test_catalog&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Type.FILESET,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;This is a S3 fileset catalog&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    s3Properties);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_KNVS" hidden=""><div class="language-python codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-python codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">gravitino_client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> GravitinoClient </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> GravitinoClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uri</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:8090&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> metalake_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;metalake&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">s3_properties </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;location&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3a://bucket/root&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3-access-key-id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;access_key&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3-secret-access-key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;secret_key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3-endpoint&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://s3.ap-northeast-1.amazonaws.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;filesystem-providers&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">s3_catalog </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> gravitino_client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">create_catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test_catalog&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                             catalog_type</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">FILESET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                             provider</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                             comment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;This is a S3 fileset catalog&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                             properties</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">s3_properties</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_gJe8 alert alert--secondary"><div class="admonitionHeading_P7Nx"><span class="admonitionIcon_suUt"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Drt2"><ul>
<li>When using S3, ensure that the location value starts with s3a:// (not s3://) for AWS S3. For example, use s3a://bucket/root, as the s3:// format is not supported by the hadoop-aws library.</li>
<li>When using MinIO or other S3-compatible storage services, make sure to set the <code>s3-endpoint</code> property to the appropriate endpoint URL.</li>
<li>When using MinIO or other S3-compatible storage services, you may need to set additional properties such as <code>s3-path-style-access</code> to <code>true</code> depending on the storage service requirements. You can do this in Gravitino&#x27;s <code>fileset.conf</code> file with the &quot;gravitino.bypass.&quot; prefix:</li>
</ul><div class="language-bash codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-bash codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ cat $GRAVITINO_HOME/catalogs/fileset/conf/fileset.conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">gravitino.bypass.fs.s3a.path.style.access=true</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="step2-create-a-schema">Step2: Create a schema<a class="hash-link" aria-label="Direct link to Step2: Create a schema" title="Direct link to Step2: Create a schema" href="/docs/next/fileset-catalog-with-s3#step2-create-a-schema">​</a></h3>
<p>Once your Fileset catalog with S3 is created, you can create a schema under the catalog. Here are examples of how to do that:</p>
<div class="tabs-container tabList_ruUt"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_ncTh tabs__item--active">Shell</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_ncTh">Java</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_ncTh">Python</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_KNVS"><div class="language-shell codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-shell codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Accept: application/vnd.gravitino.v1+json&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Content-Type: application/json&quot; -d &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;test_schema&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;comment&quot;: &quot;This is a S3 schema&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;location&quot;: &quot;s3a://bucket/root/schema&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&#x27; http://localhost:8090/api/metalakes/metalake/catalogs/test_catalog/schemas</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_KNVS" hidden=""><div class="language-java codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-java codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Catalog catalog = gravitinoClient.loadCatalog(&quot;hive_catalog&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SupportsSchemas supportsSchemas = catalog.asSchemas();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Map&lt;String, String&gt; schemaProperties = ImmutableMap.&lt;String, String&gt;builder()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .put(&quot;location&quot;, &quot;s3a://bucket/root/schema&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Schema schema = supportsSchemas.createSchema(&quot;test_schema&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;This is a S3 schema&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    schemaProperties</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_KNVS" hidden=""><div class="language-python codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-python codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">gravitino_client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> GravitinoClient </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> GravitinoClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uri</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:8090&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> metalake_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;metalake&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Catalog </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> gravitino_client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">load_catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test_catalog&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">as_schemas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">create_schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test_schema&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                   comment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;This is a S3 schema&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                   properties</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;location&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3a://bucket/root/schema&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="step3-create-a-fileset">Step3: Create a fileset<a class="hash-link" aria-label="Direct link to Step3: Create a fileset" title="Direct link to Step3: Create a fileset" href="/docs/next/fileset-catalog-with-s3#step3-create-a-fileset">​</a></h3>
<p>After creating the schema, you can create a fileset. Here are examples for creating a fileset:</p>
<div class="tabs-container tabList_ruUt"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_ncTh tabs__item--active">Shell</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_ncTh">Java</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_ncTh">Python</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_KNVS"><div class="language-shell codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-shell codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Accept: application/vnd.gravitino.v1+json&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Content-Type: application/json&quot; -d &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;example_fileset&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;comment&quot;: &quot;This is an example fileset&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: &quot;MANAGED&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;storageLocation&quot;: &quot;s3a://bucket/root/schema/example_fileset&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;k1&quot;: &quot;v1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&#x27; http://localhost:8090/api/metalakes/metalake/catalogs/test_catalog/schemas/test_schema/filesets</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_KNVS" hidden=""><div class="language-java codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-java codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">GravitinoClient gravitinoClient = GravitinoClient</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .builder(&quot;http://localhost:8090&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .withMetalake(&quot;metalake&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Catalog catalog = gravitinoClient.loadCatalog(&quot;test_catalog&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FilesetCatalog filesetCatalog = catalog.asFilesetCatalog();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Map&lt;String, String&gt; propertiesMap = ImmutableMap.&lt;String, String&gt;builder()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      .put(&quot;k1&quot;, &quot;v1&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      .build();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">filesetCatalog.createFileset(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    NameIdentifier.of(&quot;test_schema&quot;, &quot;example_fileset&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;This is an example fileset&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Fileset.Type.MANAGED,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;s3a://bucket/root/schema/example_fileset&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    propertiesMap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_KNVS" hidden=""><div class="language-python codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-python codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">gravitino_client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> GravitinoClient </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> GravitinoClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">uri</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:8090&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> metalake_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;metalake&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Catalog </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> gravitino_client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">load_catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;catalog&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">as_fileset_catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">create_fileset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ident</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">NameIdentifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">of</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;schema&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;example_fileset&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                            </span><span class="token builtin" style="color:rgb(130, 170, 255)">type</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Fileset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">MANAGED</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                            comment</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;This is an example fileset&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                            storage_location</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3a://bucket/root/schema/example_fileset&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                            properties</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;k1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;v1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_IesJ" id="accessing-a-fileset-with-s3">Accessing a fileset with S3<a class="hash-link" aria-label="Direct link to Accessing a fileset with S3" title="Direct link to Accessing a fileset with S3" href="/docs/next/fileset-catalog-with-s3#accessing-a-fileset-with-s3">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="using-the-gvfs-java-client-to-access-the-fileset">Using the GVFS Java client to access the fileset<a class="hash-link" aria-label="Direct link to Using the GVFS Java client to access the fileset" title="Direct link to Using the GVFS Java client to access the fileset" href="/docs/next/fileset-catalog-with-s3#using-the-gvfs-java-client-to-access-the-fileset">​</a></h3>
<p>To access fileset with S3 using the GVFS Java client, based on the <a href="/docs/next/how-to-use-gvfs#configuration-1">basic GVFS configurations</a>, you need to add the following configurations:</p>
<table><thead><tr><th>Configuration item</th><th>Description</th><th>Default value</th><th>Required</th><th>Since version</th></tr></thead><tbody><tr><td><code>s3-endpoint</code></td><td>The endpoint of the AWS S3.</td><td>(none)</td><td>Yes</td><td>0.7.0-incubating</td></tr><tr><td><code>s3-access-key-id</code></td><td>The access key of the AWS S3.</td><td>(none)</td><td>Yes</td><td>0.7.0-incubating</td></tr><tr><td><code>s3-secret-access-key</code></td><td>The secret key of the AWS S3.</td><td>(none)</td><td>Yes</td><td>0.7.0-incubating</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_gJe8 alert alert--secondary"><div class="admonitionHeading_P7Nx"><span class="admonitionIcon_suUt"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Drt2"><ul>
<li>If the catalog has enabled <a href="/docs/next/security/credential-vending">credential vending</a>, the properties above can be omitted. More details can be found in <a href="/docs/next/fileset-catalog-with-s3#fileset-with-credential-vending">Fileset with credential vending</a>.</li>
</ul></div></div>
<div class="language-java codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-java codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Configuration conf = new Configuration();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;fs.AbstractFileSystem.gvfs.impl&quot;, &quot;org.apache.gravitino.filesystem.hadoop.Gvfs&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;fs.gvfs.impl&quot;, &quot;org.apache.gravitino.filesystem.hadoop.GravitinoVirtualFileSystem&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;fs.gravitino.server.uri&quot;, &quot;http://localhost:8090&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;fs.gravitino.client.metalake&quot;, &quot;test_metalake&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;s3-endpoint&quot;, &quot;http://localhost:9000&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;s3-access-key-id&quot;, &quot;minio&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;s3-secret-access-key&quot;, &quot;minio123&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Path filesetPath = new Path(&quot;gvfs://fileset/fileset_catalog/fileset_schema/my_fileset/new_dir&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FileSystem fs = filesetPath.getFileSystem(conf);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fs.mkdirs(filesetPath);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Similar to Spark configurations, you need to add S3 (bundle) jars to the classpath according to your environment.</p>
<div class="language-xml codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-xml codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.hadoop</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">hadoop-common</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">${HADOOP_VERSION}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.hadoop</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">hadoop-aws</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">${HADOOP_VERSION}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.gravitino</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">gravitino-filesystem-hadoop3-runtime</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">${GRAVITINO_VERSION}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_gJe8 alert alert--secondary"><div class="admonitionHeading_P7Nx"><span class="admonitionIcon_suUt"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Drt2"><p>Since version 1.1.0, the <code>gravitino-aws</code> JAR is no longer required, as it is now included in the <code>gravitino-filesystem-hadoop3-runtime</code> JAR.</p></div></div>
<p>Or use the bundle jar with Hadoop environment if there is no Hadoop environment:</p>
<div class="language-xml codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-xml codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.gravitino</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">gravitino-aws-bundle</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">${GRAVITINO_VERSION}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.gravitino</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">gravitino-filesystem-hadoop3-runtime</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">${GRAVITINO_VERSION}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="using-spark-to-access-the-fileset">Using Spark to access the fileset<a class="hash-link" aria-label="Direct link to Using Spark to access the fileset" title="Direct link to Using Spark to access the fileset" href="/docs/next/fileset-catalog-with-s3#using-spark-to-access-the-fileset">​</a></h3>
<p>The following Python code demonstrates how to use <strong>PySpark 3.5.0 with Hadoop environment(Hadoop 3.3.4)</strong> to access the fileset:</p>
<p>Before running the following code, you need to install required packages:</p>
<div class="language-bash codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-bash codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip install pyspark==3.5.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip install apache-gravitino==${GRAVITINO_VERSION}</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then you can run the following code:</p>
<div class="language-python codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-python codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> pyspark</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">sql </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> SparkSession</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">gravitino_url </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:8090&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metalake_name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">catalog_name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;your_s3_catalog&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">schema_name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;your_s3_schema&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fileset_name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;your_s3_fileset&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># JDK8 as follows, JDK17 will be slightly different, you need to add &#x27;--conf \&quot;spark.driver.extraJavaOptions=--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\&quot; --conf \&quot;spark.executor.extraJavaOptions=--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\&quot;&#x27; to the submit args.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">os</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;PYSPARK_SUBMIT_ARGS&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;--jars /path/to/gravitino-filesystem-hadoop3-runtime-${gravitino-version}-SNAPSHOT.jar,/path/to/hadoop-aws-3.3.4.jar,/path/to/aws-java-sdk-bundle-1.12.262.jar --master local[1] pyspark-shell&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">spark </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> SparkSession</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">builder</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">appName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3_fileset_test&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.fs.AbstractFileSystem.gvfs.impl&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;org.apache.gravitino.filesystem.hadoop.Gvfs&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.fs.gvfs.impl&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;org.apache.gravitino.filesystem.hadoop.GravitinoVirtualFileSystem&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.fs.gravitino.server.uri&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:8090&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.fs.gravitino.client.metalake&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.s3-access-key-id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;S3_ACCESS_KEY_ID&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.s3-secret-access-key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;S3_SECRET_ACCESS_KEY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.s3-endpoint&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://s3.ap-northeast-1.amazonaws.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.driver.memory&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2g&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.driver.port&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2048&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">getOrCreate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">data </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Alice&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Bob&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Cathy&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">45</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">columns </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Age&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">spark_df </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> spark</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">createDataFrame</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> schema</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">columns</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">gvfs_path </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">f&quot;gvfs://fileset/</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-interpolation interpolation">catalog_name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">/</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-interpolation interpolation">schema_name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">/</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-interpolation interpolation">fileset_name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">/people&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">spark_df</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">coalesce</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">write</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">mode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;overwrite&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">option</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;header&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">csv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">gvfs_path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If your Spark <strong>without Hadoop environment</strong>, you can use the following code snippet to access the fileset:</p>
<div class="language-python codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-python codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">## Replace the following code snippet with the above code snippet with the same environment variables</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">os</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;PYSPARK_SUBMIT_ARGS&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;--jars /path/to/gravitino-aws-bundle-${gravitino-version}.jar,/path/to/gravitino-filesystem-hadoop3-runtime-${gravitino-version}-SNAPSHOT.jar --master local[1] pyspark-shell&quot;</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><a href="https://mvnrepository.com/artifact/org.apache.gravitino/gravitino-aws-bundle" target="_blank" rel="noopener noreferrer"><code>gravitino-aws-bundle-${gravitino-version}.jar</code></a>: A &quot;fat&quot; JAR that includes <code>gravitino-aws</code> functionality and all necessary dependencies like <code>hadoop-aws</code> (3.3.1) and the <code>AWS SDK</code>. Use this if your Spark environment doesn&#x27;t have a pre-existing Hadoop setup.</li>
<li><a href="https://mvnrepository.com/artifact/org.apache.gravitino/gravitino-filesystem-hadoop3-runtime" target="_blank" rel="noopener noreferrer"><code>gravitino-filesystem-hadoop3-runtime-${gravitino-version}.jar</code></a>: A &quot;fat&quot; JAR that bundles Gravitino&#x27;s virtual filesystem client and includes the functionality of <code>gravitino-aws</code>. It is required for accessing Gravitino filesets.</li>
<li><code>hadoop-aws-3.3.4.jar</code> and <code>aws-java-sdk-bundle-1.12.262.jar</code>: Standard Hadoop dependencies for S3 access. If you are running in an existing Hadoop environment, you need to provide these JARs. They are typically located in the <code>${HADOOP_HOME}/share/hadoop/tools/lib</code> directory.</li>
<li><a href="https://mvnrepository.com/artifact/org.apache.gravitino/gravitino-aws" target="_blank" rel="noopener noreferrer"><code>gravitino-aws-${gravitino-version}.jar</code></a>: A &quot;thin&quot; JAR that only provides the AWS integration code. Its functionality is already included in the <code>gravitino-aws-bundle</code> and <code>gravitino-filesystem-hadoop3-runtime</code> JARs, so you do not need to add it as a direct dependency unless you want to manage all Hadoop and AWS dependencies manually.</li>
</ul>
<p>Please choose the correct jar according to your environment.</p>
<div class="theme-admonition theme-admonition-note admonition_gJe8 alert alert--secondary"><div class="admonitionHeading_P7Nx"><span class="admonitionIcon_suUt"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Drt2"><p>In some Spark versions, a Hadoop environment is needed by the driver, adding the bundle jars with &#x27;--jars&#x27; may not work. If this is the case, you should add the jars to the spark CLASSPATH directly.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="accessing-a-fileset-using-the-hadoop-fs-command">Accessing a fileset using the Hadoop fs command<a class="hash-link" aria-label="Direct link to Accessing a fileset using the Hadoop fs command" title="Direct link to Accessing a fileset using the Hadoop fs command" href="/docs/next/fileset-catalog-with-s3#accessing-a-fileset-using-the-hadoop-fs-command">​</a></h3>
<p>The following are examples of how to use the <code>hadoop fs</code> command to access the fileset in Hadoop 3.1.3.</p>
<ol>
<li>Adding the following contents to the <code>${HADOOP_HOME}/etc/hadoop/core-site.xml</code> file:</li>
</ol>
<div class="language-xml codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-xml codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.AbstractFileSystem.gvfs.impl</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.gravitino.filesystem.hadoop.Gvfs</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.gvfs.impl</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.gravitino.filesystem.hadoop.GravitinoVirtualFileSystem</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.gravitino.server.uri</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">http://localhost:8090</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.gravitino.client.metalake</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">test</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">s3-endpoint</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">http://s3.ap-northeast-1.amazonaws.com</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">s3-access-key-id</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">access-key</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">s3-secret-access-key</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">secret-key</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Add the necessary jars to the Hadoop classpath.</li>
</ol>
<p>For S3, you need to add <code>gravitino-filesystem-hadoop3-runtime-${gravitino-version}.jar</code> and <code>hadoop-aws-${hadoop-version}.jar</code> located at <code>${HADOOP_HOME}/share/hadoop/tools/lib/</code> to Hadoop classpath.</p>
<ol start="3">
<li>Run the following command to access the fileset:</li>
</ol>
<div class="language-shell codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-shell codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./${HADOOP_HOME}/bin/hadoop dfs -ls gvfs://fileset/s3_catalog/s3_schema/s3_fileset</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">./${HADOOP_HOME}/bin/hadoop dfs -put /path/to/local/file gvfs://fileset/s3_catalog/s3_schema/s3_fileset</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="using-the-gvfs-python-client-to-access-a-fileset">Using the GVFS Python client to access a fileset<a class="hash-link" aria-label="Direct link to Using the GVFS Python client to access a fileset" title="Direct link to Using the GVFS Python client to access a fileset" href="/docs/next/fileset-catalog-with-s3#using-the-gvfs-python-client-to-access-a-fileset">​</a></h3>
<p>In order to access fileset with S3 using the GVFS Python client, apart from <a href="/docs/next/how-to-use-gvfs#configuration-1">basic GVFS configurations</a>, you need to add the following configurations:</p>
<table><thead><tr><th>Configuration item</th><th>Description</th><th>Default value</th><th>Required</th><th>Since version</th></tr></thead><tbody><tr><td><code>s3_endpoint</code></td><td>The endpoint of the AWS S3. This configuration is optional for S3 service, but required for other S3-compatible storage services like MinIO.</td><td>(none)</td><td>No</td><td>0.7.0-incubating</td></tr><tr><td><code>s3_access_key_id</code></td><td>The access key of the AWS S3.</td><td>(none)</td><td>Yes</td><td>0.7.0-incubating</td></tr><tr><td><code>s3_secret_access_key</code></td><td>The secret key of the AWS S3.</td><td>(none)</td><td>Yes</td><td>0.7.0-incubating</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_gJe8 alert alert--secondary"><div class="admonitionHeading_P7Nx"><span class="admonitionIcon_suUt"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_Drt2"><ul>
<li><code>s3_endpoint</code> is an optional configuration for GVFS <strong>Python</strong> client but a required configuration for GVFS <strong>Java</strong> client to access Hadoop with AWS S3, and it is required for other S3-compatible storage services like MinIO.</li>
<li>If the catalog has enabled <a href="/docs/next/security/credential-vending">credential vending</a>, the properties above can be omitted.</li>
</ul></div></div>
<p>Please install the <code>gravitino</code> package before running the following code:</p>
<div class="language-bash codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-bash codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip install apache-gravitino==${GRAVITINO_VERSION}</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-python codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-python codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> gravitino </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> gvfs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">options </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cache_size&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cache_expired_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3600</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;auth_type&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;simple&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3_endpoint&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:9000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3_access_key_id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;minio&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3_secret_access_key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;minio123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> gvfs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">GravitinoVirtualFileSystem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">server_uri</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:8090&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> metalake_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test_metalake&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> options</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ls</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;gvfs://fileset/{catalog_name}/{schema_name}/{fileset_name}/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">                                                                         &quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="using-fileset-with-pandas">Using fileset with pandas<a class="hash-link" aria-label="Direct link to Using fileset with pandas" title="Direct link to Using fileset with pandas" href="/docs/next/fileset-catalog-with-s3#using-fileset-with-pandas">​</a></h3>
<p>The following are examples of how to use the pandas library to access the S3 fileset</p>
<div class="language-python codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-python codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> pandas </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">storage_options </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;server_uri&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:8090&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;metalake_name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;options&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3_access_key_id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;access_key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3_secret_access_key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;secret_key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3_endpoint&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://s3.ap-northeast-1.amazonaws.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read_csv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">f&quot;gvfs://fileset/$</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-interpolation interpolation">catalog_name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">/$</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-interpolation interpolation">schema_name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">/$</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string-interpolation interpolation">fileset_name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token string-interpolation string" style="color:rgb(195, 232, 141)">/people/part-00000-51d366e2-d5eb-448d-9109-32a96c8a14dc-c000.csv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 storage_options</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">storage_options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">head</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For more use cases, please refer to the <a href="/docs/next/how-to-use-gvfs">Gravitino Virtual File System</a> document.</p>
<h2 class="anchor anchorWithStickyNavbar_IesJ" id="fileset-with-credential-vending">Fileset with credential vending<a class="hash-link" aria-label="Direct link to Fileset with credential vending" title="Direct link to Fileset with credential vending" href="/docs/next/fileset-catalog-with-s3#fileset-with-credential-vending">​</a></h2>
<p>Since 0.8.0-incubating, Gravitino supports credential vending for S3 fileset. If the catalog has been <a href="/docs/next/security/credential-vending">configured with credential</a>, you can access S3 fileset without providing authentication information like <code>s3-access-key-id</code> and <code>s3-secret-access-key</code> in the properties.</p>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="how-to-create-a-s3-fileset-catalog-with-credential-vending">How to create a S3 Fileset catalog with credential vending<a class="hash-link" aria-label="Direct link to How to create a S3 Fileset catalog with credential vending" title="Direct link to How to create a S3 Fileset catalog with credential vending" href="/docs/next/fileset-catalog-with-s3#how-to-create-a-s3-fileset-catalog-with-credential-vending">​</a></h3>
<p>Apart from configuration method in <a href="/docs/next/fileset-catalog-with-s3#configurations-for-s3-fileset-catalog">create-s3-fileset-catalog</a>,
properties needed by <a href="/docs/next/security/credential-vending#s3-credentials">s3-credential</a>
should also be set to enable credential vending for S3 fileset. Take <code>s3-token</code> credential provider for example:</p>
<div class="language-shell codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-shell codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Accept: application/vnd.gravitino.v1+json&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Content-Type: application/json&quot; -d &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;s3-catalog-with-token&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: &quot;FILESET&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;comment&quot;: &quot;This is a S3 fileset catalog&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;location&quot;: &quot;s3a://bucket/root&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;s3-access-key-id&quot;: &quot;access_key&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;s3-secret-access-key&quot;: &quot;secret_key&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;s3-endpoint&quot;: &quot;http://s3.ap-northeast-1.amazonaws.com&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;filesystem-providers&quot;: &quot;s3&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;credential-providers&quot;: &quot;s3-token&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;s3-region&quot;:&quot;ap-northeast-1&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;s3-role-arn&quot;:&quot;The ARN of the role to access the S3 data&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&#x27; http://localhost:8090/api/metalakes/metalake/catalogs</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IesJ" id="how-to-access-s3-fileset-with-credential-vending">How to access S3 fileset with credential vending<a class="hash-link" aria-label="Direct link to How to access S3 fileset with credential vending" title="Direct link to How to access S3 fileset with credential vending" href="/docs/next/fileset-catalog-with-s3#how-to-access-s3-fileset-with-credential-vending">​</a></h3>
<p>When the catalog is configured with credentials and client-side credential vending is enabled,
you can access S3 filesets directly using the GVFS Java/Python client or Spark without providing authentication details.</p>
<p>GVFS Java client:</p>
<div class="language-java codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-java codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Configuration conf = new Configuration();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.setBoolean(&quot;fs.gravitino.enableCredentialVending&quot;, true);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;fs.AbstractFileSystem.gvfs.impl&quot;, &quot;org.apache.gravitino.filesystem.hadoop.Gvfs&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;fs.gvfs.impl&quot;, &quot;org.apache.gravitino.filesystem.hadoop.GravitinoVirtualFileSystem&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;fs.gravitino.server.uri&quot;, &quot;http://localhost:8090&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">conf.set(&quot;fs.gravitino.client.metalake&quot;, &quot;test_metalake&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// No need to set s3-access-key-id and s3-secret-access-key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Path filesetPath = new Path(&quot;gvfs://fileset/test_catalog/test_schema/test_fileset/new_dir&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FileSystem fs = filesetPath.getFileSystem(conf);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fs.mkdirs(filesetPath);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Spark:</p>
<div class="language-python codeBlockContainer_zPVH theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g3_E"><pre tabindex="0" class="prism-code language-python codeBlock_aKe1 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_UCyS"><span class="token-line" style="color:#bfc7d5"><span class="token plain">spark </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> SparkSession</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">builder</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">appName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3_fileset_test&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.fs.gravitino.enableCredentialVending&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;true&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.fs.AbstractFileSystem.gvfs.impl&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;org.apache.gravitino.filesystem.hadoop.Gvfs&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.fs.gvfs.impl&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;org.apache.gravitino.filesystem.hadoop.GravitinoVirtualFileSystem&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.fs.gravitino.server.uri&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:8090&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.hadoop.fs.gravitino.client.metalake&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># No need to set s3-access-key-id and s3-secret-access-key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.driver.memory&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2g&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;spark.driver.port&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2048&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">getOrCreate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup_BCgc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_OX1y" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_I7rU"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Ttlo"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Python client and Hadoop command are similar to the above examples.</p></div></div></div><div class="row"><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/gravitino-site/tree/main/docs/fileset-catalog-with-s3.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_gjMs" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_jvWD"></div></div></footer></div></div></article><div class="row"><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/fileset-catalog"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Fileset catalog</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/fileset-catalog-with-gcs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Fileset catalog with gcs</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_PYBD thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#prerequisites">Prerequisites</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#configurations-for-creating-a-fileset-catalog-with-s3">Configurations for creating a Fileset catalog with S3</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#configurations-for-s3-fileset-catalog">Configurations for S3 Fileset Catalog</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#configurations-for-a-schema">Configurations for a schema</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#configurations-for-a-fileset">Configurations for a fileset</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#using-the-fileset-catalog-with-s3">Using the Fileset catalog with S3</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#step1-create-a-fileset-catalog-with-s3">Step1: Create a Fileset Catalog with S3</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#step2-create-a-schema">Step2: Create a schema</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#step3-create-a-fileset">Step3: Create a fileset</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#accessing-a-fileset-with-s3">Accessing a fileset with S3</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#using-the-gvfs-java-client-to-access-the-fileset">Using the GVFS Java client to access the fileset</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#using-spark-to-access-the-fileset">Using Spark to access the fileset</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#accessing-a-fileset-using-the-hadoop-fs-command">Accessing a fileset using the Hadoop fs command</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#using-the-gvfs-python-client-to-access-a-fileset">Using the GVFS Python client to access a fileset</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#using-fileset-with-pandas">Using fileset with pandas</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#fileset-with-credential-vending">Fileset with credential vending</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#how-to-create-a-s3-fileset-catalog-with-credential-vending">How to create a S3 Fileset catalog with credential vending</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/fileset-catalog-with-s3#how-to-access-s3-fileset-with-credential-vending">How to access S3 fileset with credential vending</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><div>
      <p>
        Copyright © 2026 The Apache Software Foundation, Licensed under the Apache License, Version 2.0. <br>
        Apache Gravitino, the names of other Apache projects, and the ASF logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.
      </p>
      </div></div></div></div></footer></div>
</body>
</html>