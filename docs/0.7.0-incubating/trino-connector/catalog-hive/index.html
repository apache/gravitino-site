<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.7.0-incubating docs-doc-page docs-doc-id-trino-connector/catalog-hive" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Apache Gravitino Trino connector - Hive catalog | Apache Gravitino</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gravitino.apache.org/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://gravitino.apache.org/img/social-card.png"><meta data-rh="true" property="og:url" content="https://gravitino.apache.org/docs/0.7.0-incubating/trino-connector/catalog-hive"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.7.0-incubating"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.7.0-incubating"><meta data-rh="true" name="docsearch:version" content="0.7.0-incubating"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.7.0-incubating"><meta data-rh="true" property="og:title" content="Apache Gravitino Trino connector - Hive catalog | Apache Gravitino"><meta data-rh="true" name="description" content="The Hive catalog allows Trino querying data stored in an Apache Hive data warehouse."><meta data-rh="true" property="og:description" content="The Hive catalog allows Trino querying data stored in an Apache Hive data warehouse."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gravitino.apache.org/docs/0.7.0-incubating/trino-connector/catalog-hive"><link data-rh="true" rel="alternate" href="https://gravitino.apache.org/docs/0.7.0-incubating/trino-connector/catalog-hive" hreflang="en"><link data-rh="true" rel="alternate" href="https://gravitino.apache.org/docs/0.7.0-incubating/trino-connector/catalog-hive" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Gravitino RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Gravitino Atom Feed">









<script src="/js/matomo.js" async></script><link rel="stylesheet" href="/assets/css/styles.abfa2f42.css">
<script src="/assets/js/runtime~main.9d69805a.js" defer="defer"></script>
<script src="/assets/js/main.609e06fe.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oHve" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Logo" class="themedComponent_C5w8 themedComponent--light_EwGC"><img src="/img/logo.svg" alt="Logo" class="themedComponent_C5w8 themedComponent--dark_iOLs"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Apache Gravitino</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/contrib">Contributing</a><a class="navbar__item navbar__link" href="/downloads">Downloads</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/0.7.0-incubating/">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/0.7.0-incubating/trino-connector/catalog-hive">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li><li><a href="https://github.com/apache/gravitino/blob/main/CODE_OF_CONDUCT.md" target="_blank" rel="noopener noreferrer" class="dropdown__link">Code of Conduct</a></li></ul></div><a href="https://github.com/apache/gravitino" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer_qYls"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_nm_I"><div class="docsWrapper_sa0z"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Bav6" type="button"></button><div class="docRoot_TyON"><aside class="theme-doc-sidebar-container docSidebarContainer_JGdd"><div class="sidebarViewport_dtQr"><div class="sidebar_mhZE"><div class="tw"><div class="relative my-2 px-2"><button class="border-none relative w-full cursor-default rounded-md bg-white dark:bg-[#21222b] dark:text-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:text-sm sm:leading-6" id="headlessui-listbox-button-:R32llaqh:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><span class="flex items-center"><span class="ml-3 block truncate">0.7.0-incubating</span></span><span class="pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-5 w-5 text-gray-400"><path fill-rule="evenodd" d="M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z" clip-rule="evenodd"></path></svg></span></button></div></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.7.0-incubating/">What&#x27;s Apache Gravitino?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.7.0-incubating/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.7.0-incubating/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.7.0-incubating/how-to-install">How to install Gravitino</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.7.0-incubating/iceberg-rest-service">Iceberg REST catalog service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.7.0-incubating/webui">Web UI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.7.0-incubating/getting-started#getting-started-locally">Running Gravitino on</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.7.0-incubating/lakehouse-iceberg-catalog">Catalogs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/0.7.0-incubating/trino-connector/index">Trino connector</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/index">Index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/trino-connector">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/requirements">Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/supported-catalog">Supported catalogs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/supported-catalog">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/catalog-hive">Hive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/catalog-iceberg">Iceberg</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/catalog-mysql">MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/catalog-postgresql">PostgreSQL</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/sql-support">Supported SQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.7.0-incubating/trino-connector/development">Development</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.7.0-incubating/spark-connector/spark-connector">Spark connector</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.7.0-incubating/flink-connector/flink-connector">Flink connector</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.7.0-incubating/gravitino-server-config">Server administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.7.0-incubating/security/security">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.7.0-incubating/how-to-use-the-playground">Gravitino playground</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.7.0-incubating/manage-metalake-using-gravitino">Programming guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.7.0-incubating/how-to-build">Development guides</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.7.0-incubating/glossary">Apache Gravitino Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_jN9B"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_p07H"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Apache Gravitino<!-- --> <b>0.7.0-incubating</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/0.9.0-incubating/trino-connector/catalog-hive">latest version</a></b> (<!-- -->0.9.0-incubating<!-- -->).</div></div><div class="docItemContainer_OBAp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_R0s7" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_eS75"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Trino connector</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Supported catalogs</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Hive</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.7.0-incubating</span><div class="tocCollapsible_xyJb theme-doc-toc-mobile tocMobile__LRY"><button type="button" class="clean-btn tocCollapsibleButton_tRc_">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Apache Gravitino Trino connector - Hive catalog</h1></header><div class="row"><div class="col col--12 markdown"><p>The Hive catalog allows Trino querying data stored in an Apache Hive data warehouse.</p>
<h2 class="anchor anchorWithStickyNavbar_dDHj" id="requirements">Requirements<a class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#requirements">​</a></h2>
<p>The Hive connector requires a Hive metastore service (HMS), or a compatible implementation of the Hive metastore, such
as AWS Glue.</p>
<p>Apache Hadoop HDFS 2.x supported.</p>
<p>Many distributed storage systems including HDFS, Amazon S3 or S3-compatible systems,
Google Cloud Storage, Azure Storage, and IBM Cloud Object Storage can be queried with the Hive connector.</p>
<p>The coordinator and all workers must have network access to the Hive metastore and the storage system.</p>
<p>Hive metastore access with the Thrift protocol defaults to using port 9083.</p>
<p>Data files must be in a supported file format. Some file formats can be configured using file format configuration
properties
per catalog:</p>
<ul>
<li>ORC</li>
<li>PARQUET</li>
<li>AVRO</li>
<li>RCFILE</li>
<li>SEQUENCEFILE</li>
<li>JSON</li>
<li>CSV</li>
<li>TEXTFILE</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_dDHj" id="schema-operations">Schema operations<a class="hash-link" aria-label="Direct link to Schema operations" title="Direct link to Schema operations" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#schema-operations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="create-a-schema">Create a schema<a class="hash-link" aria-label="Direct link to Create a schema" title="Direct link to Create a schema" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#create-a-schema">​</a></h3>
<p>Users can create a schema with properties through Apache Gravitino Trino connector as follows:</p>
<div class="language-SQL language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">SCHEMA</span><span class="token plain"> catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">schema_name </span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_dDHj" id="table-operations">Table operations<a class="hash-link" aria-label="Direct link to Table operations" title="Direct link to Table operations" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#table-operations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="create-table">Create table<a class="hash-link" aria-label="Direct link to Create table" title="Direct link to Create table" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#create-table">​</a></h3>
<p>The Gravitino Trino connector currently supports basic Hive table creation statements, such as defining fields,
allowing null values, and adding comments. The Gravitino Trino connector does not support <code>CREATE TABLE AS SELECT</code>.</p>
<p>The following example shows how to create a table in the Hive catalog:</p>
<div class="language-shell codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-shell codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE TABLE catalog.schema_name.table_name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name varchar,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  salary int</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="alter-table">Alter table<a class="hash-link" aria-label="Direct link to Alter table" title="Direct link to Alter table" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#alter-table">  ​</a></h3>
<p>Support for the following alter table operations:</p>
<ul>
<li>Rename table</li>
<li>Add a column</li>
<li>Drop a column</li>
<li>Rename a column</li>
<li>Change a column type</li>
<li>Set a table property</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="select">Select<a class="hash-link" aria-label="Direct link to Select" title="Direct link to Select" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#select">​</a></h3>
<p>The Gravitino Trino connector supports most SELECT statements, allowing the execution of queries successfully.
Currently, it doesn&#x27;t support certain query optimizations, such as pushdown and pruning functionalities.</p>
<h2 class="anchor anchorWithStickyNavbar_dDHj" id="schema-and-table-properties">Schema and table properties<a class="hash-link" aria-label="Direct link to Schema and table properties" title="Direct link to Schema and table properties" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#schema-and-table-properties">​</a></h2>
<p>You can set additional properties for tables and schemas in the Hive catalog using &quot;WITH&quot; keyword in the &quot;CREATE&quot;
statement.</p>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="create-a-schema-with-properties">Create a schema with properties<a class="hash-link" aria-label="Direct link to Create a schema with properties" title="Direct link to Create a schema with properties" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#create-a-schema-with-properties">​</a></h3>
<p>Users can use the following example to create a schema with properties:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">SCHEMA</span><span class="token plain"> catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">dbname</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  location </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;hdfs://hdfs-host:9000/user/hive/warehouse/dbname&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following tables are the properties supported by the Hive schema:</p>
<table><thead><tr><th>Property</th><th>Description</th><th>Default Value</th><th>Required</th><th>Reserved</th><th>Since Version</th></tr></thead><tbody><tr><td>location</td><td>HDFS location for table storage</td><td>(none)</td><td>No</td><td>No</td><td>0.2.0</td></tr></tbody></table>
<p>Reserved properties: A reserved property is one can&#x27;t be set by users but can be read by users.</p>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="create-a-table-with-properties">Create a table with properties<a class="hash-link" aria-label="Direct link to Create a table with properties" title="Direct link to Create a table with properties" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#create-a-table-with-properties">​</a></h3>
<p>Users can use the following example to create a table with properties:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">dbname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">tablename</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name </span><span class="token keyword" style="font-style:italic">varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  salary </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  format </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TEXTFILE&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">KEY</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;VALUE&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">      </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following tables are the properties supported by the Hive table:</p>
<table><thead><tr><th>Property</th><th>Description</th><th>Default Value</th><th>Required</th><th>Reserved</th><th>Since Version</th></tr></thead><tbody><tr><td>format</td><td>Hive storage format for the table</td><td>TEXTFILE</td><td>No</td><td>No</td><td>0.2.0</td></tr><tr><td>location</td><td>HDFS location for table storage</td><td>(none)</td><td>No</td><td>No</td><td>0.2.0</td></tr><tr><td>input_format</td><td>The input format class for the table</td><td>org.apache.hadoop.mapred.TextInputFormat</td><td>No</td><td>No</td><td>0.2.0</td></tr><tr><td>output_format</td><td>The output format class for the table</td><td>org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat</td><td>No</td><td>No</td><td>0.2.0</td></tr><tr><td>serde_lib</td><td>The serde library class for the table</td><td>org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe</td><td>No</td><td>No</td><td>0.2.0</td></tr><tr><td>serde_name</td><td>Name of the serde</td><td>table name by default</td><td>No</td><td>No</td><td>0.2.0</td></tr><tr><td>partitioned_by</td><td>Partition columns for the table</td><td>(none)</td><td>No</td><td>No</td><td>0.4.0</td></tr><tr><td>bucketed_by</td><td>Bucket columns for the table</td><td>(none)</td><td>No</td><td>No</td><td>0.4.0</td></tr><tr><td>bucket_count</td><td>Number of buckets for the table</td><td>(none)</td><td>No</td><td>No</td><td>0.4.0</td></tr><tr><td>sorted_by</td><td>Sorted columns for the table</td><td>(none)</td><td>No</td><td>No</td><td>0.4.0</td></tr></tbody></table>
<p>The following properties are automatically added and managed as reserved properties. Users are not allowed to set these properties.</p>
<table><thead><tr><th>Property</th><th>Description</th><th>Since Version</th></tr></thead><tbody><tr><td>total_size</td><td>Total size of the table</td><td>0.2.0</td></tr><tr><td>num_files</td><td>Number of files</td><td>0.2.0</td></tr><tr><td>external</td><td>Indicate whether it&#x27;s an external table</td><td>0.2.0</td></tr><tr><td>table_type</td><td>The type of Hive table</td><td>0.2.0</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_dDHj" id="basic-usage-examples">Basic usage examples<a class="hash-link" aria-label="Direct link to Basic usage examples" title="Direct link to Basic usage examples" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#basic-usage-examples">​</a></h2>
<p>You need to do the following steps before you can use the Hive catalog in Trino through Gravitino.</p>
<ul>
<li>Create a metalake and catalog in Gravitino. Assuming that the metalake name is <code>test</code> and the catalog name is <code>hive_test</code>,
then you can use the following code to create them in Gravitino:</li>
</ul>
<div class="language-bash codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-bash codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-d &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;test&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;comment&quot;: &quot;comment&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;properties&quot;: {}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&#x27; http://gravitino-host:8090/api/metalakes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-d &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;hive_test&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;type&quot;: &quot;RELATIONAL&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;comment&quot;: &quot;comment&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;provider&quot;: &quot;hive&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;metastore.uris&quot;: &quot;thrift://hive-host:9083&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&#x27; http://gravitino-host:8090/api/metalakes/test/catalogs</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For More information about the Hive catalog, please refer to <a href="/docs/0.7.0-incubating/apache-hive-catalog">Hive catalog</a>.</p>
<ul>
<li>Set the value of configuration <code>gravitino.metalake</code> to the metalake you have created, named &#x27;test&#x27;, and start the Trino container.</li>
</ul>
<p>Use the Trino CLI to connect to the Trino container and run a query.</p>
<p>Listing all Gravitino managed catalogs:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SHOW</span><span class="token plain"> CATALOGS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The results are similar to:</p>
<div class="language-text codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-text codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Catalog</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">----------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> gravitino</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> jmx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> system</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> hive_test</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">(4 rows)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Query 20231017_082503_00018_6nt3n, FINISHED, 1 node</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>gravitino</code> catalog is a catalog defined By Trino catalog configuration.
The <code>hive_test</code> catalog is the catalog created by you in Gravitino.
Other catalogs are regular user-configured Trino catalogs.</p>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="creating-tables-and-schemas">Creating tables and schemas<a class="hash-link" aria-label="Direct link to Creating tables and schemas" title="Direct link to Creating tables and schemas" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#creating-tables-and-schemas">​</a></h3>
<p>Create a new schema named <code>database_01</code> in <code>hive_test</code> catalog.</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">SCHEMA</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Create a new schema using HDFS location:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">SCHEMA</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01 </span><span class="token keyword" style="font-style:italic">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  location </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;hdfs://hdfs-host:9000/user/hive/warehouse/database_01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Create a new table named <code>table_01</code> in schema <code>hive_test.database_01</code> and stored in a TEXTFILE format, partitioning by <code>salary</code>, bucket by <code>name</code> and sorted by <code>salary</code>.</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain">  hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_01</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name </span><span class="token keyword" style="font-style:italic">varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">salary </span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">month</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  format </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TEXTFILE&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  partitioned_by </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;month&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  bucketed_by </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  bucket_count </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  sorted_by </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;salary&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="writing-data">Writing data<a class="hash-link" aria-label="Direct link to Writing data" title="Direct link to Writing data" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#writing-data">​</a></h3>
<p>Insert data into the table <code>table_01</code>:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">INSERT</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">INTO</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_01 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> salary</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ice&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Insert data into the table <code>table_01</code> from select:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">INSERT</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">INTO</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_01 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> salary</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">month</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="querying-data">Querying data<a class="hash-link" aria-label="Direct link to Querying data" title="Direct link to Querying data" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#querying-data">​</a></h3>
<p>Query the <code>table_01</code> table:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="modify-a-table">Modify a table<a class="hash-link" aria-label="Direct link to Modify a table" title="Direct link to Modify a table" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#modify-a-table">​</a></h3>
<p>Add a new column <code>age</code> to the <code>table_01</code> table:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">ALTER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_01 </span><span class="token keyword" style="font-style:italic">ADD</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">COLUMN</span><span class="token plain"> age </span><span class="token keyword" style="font-style:italic">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Drop a column <code>age</code> from the <code>table_01</code> table:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">ALTER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_01 </span><span class="token keyword" style="font-style:italic">DROP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">COLUMN</span><span class="token plain"> age</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Rename the <code>table_01</code> table to <code>table_02</code>:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">ALTER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_01 </span><span class="token keyword" style="font-style:italic">RENAME</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_02</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_dDHj" id="drop">DROP<a class="hash-link" aria-label="Direct link to DROP" title="Direct link to DROP" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#drop">​</a></h3>
<p>Drop a schema:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">DROP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">SCHEMA</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Drop a table:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">DROP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> hive_test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">database_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">table_01</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_dDHj" id="hdfs-config-and-permissions">HDFS config and permissions<a class="hash-link" aria-label="Direct link to HDFS config and permissions" title="Direct link to HDFS config and permissions" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#hdfs-config-and-permissions">​</a></h2>
<p>For basic setups, the Apache Gravitino Trino connector configures the HDFS client
using catalog configurations. It supports configuring the HDFS client with <code>hdfs-site.xml</code>
and <code>core-site.xml</code> files via the <code>trino.bypass.hive.config.resources</code> setting in the catalog configurations.</p>
<p>Before running any <code>Insert</code> statements for Hive tables in Trino,
you must check that the user Trino is using to access HDFS has access to the Hive warehouse directory.
You can override this username by setting the HADOOP_USER_NAME system property in the Trino JVM config,
replacing hdfs_user with the appropriate username:</p>
<div class="language-text codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-text codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token plain">-DHADOOP_USER_NAME=hdfs_user</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_dDHj" id="s3">S3<a class="hash-link" aria-label="Direct link to S3" title="Direct link to S3" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#s3">​</a></h2>
<p>When using AWS S3 within the Hive catalog, users need to configure the Trino Hive connector&#x27;s
AWS S3-related properties in the catalog&#x27;s properteis. Please refer to the documentation
of <a href="https://trino.io/docs/435/connector/hive-s3.html" target="_blank" rel="noopener noreferrer">Hive connector with Amazon S3</a>.</p>
<p>To create a Hive catalog with AWS S3 configuration in the Trino CLI, use the following command:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">call</span><span class="token plain"> gravitino</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">system</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">create_catalog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;gt_hive&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;hive&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;metastore.uris&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;trino.bypass.hive.s3.aws-access-key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;trino.bypass.hive.s3.aws-secret-key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;trino.bypass.hive.s3.region&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;thrift://hive:9083&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&lt;aws-access-key&gt;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&lt;aws-secret-key&gt;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&lt;region&gt;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>The settings for <code>trino.bypass.hive.s3.aws-access-key</code>, <code>trino.bypass.hive.s3.aws-secret-key</code> and <code>trino.bypass.hive.s3.region</code>
are required by the Apache Gravitino Trino connector.</li>
</ul>
<p>Once the Hive catalog is successfully created, users can create schemas and tables as follows:</p>
<div class="language-sql codeBlockContainer_bYzg theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BeB_"><pre tabindex="0" class="prism-code language-sql codeBlock_WXO5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_kWWH"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">SCHEMA</span><span class="token plain"> gt_hive</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">gt_db02</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">location </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;s3a://trino-test/dw/gt_db02&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">CREATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token plain"> gt_hive</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">gt_db02</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">tb01 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name </span><span class="token keyword" style="font-style:italic">varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    salary </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_XUPc"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_mUYJ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_jzSv"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Oj1I"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>location</code> specifies the AWS S3 storage path.</p>
<p>After running the command, the tables are ready for data reading and writing operations on AWS S3.</p>
<div class="theme-admonition theme-admonition-note admonition_Afce alert alert--secondary"><div class="admonitionHeading_STdq"><span class="admonitionIcon_y_9a"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent__Pyd"><p>Ensure the Hive Metastore service used by the Hive catalog supports AWS S3.</p></div></div></div></div></div><div class="row"><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/gravitino-site/tree/main/docs/trino-connector/catalog-hive.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_h4UQ" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_jTHa"></div></div></footer></div></div></article><div class="row"><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/0.7.0-incubating/trino-connector/supported-catalog"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/0.7.0-incubating/trino-connector/catalog-iceberg"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Iceberg</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_N7TR thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#requirements">Requirements</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#schema-operations">Schema operations</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#create-a-schema">Create a schema</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#table-operations">Table operations</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#create-table">Create table</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#alter-table">Alter table</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#select">Select</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#schema-and-table-properties">Schema and table properties</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#create-a-schema-with-properties">Create a schema with properties</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#create-a-table-with-properties">Create a table with properties</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#basic-usage-examples">Basic usage examples</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#creating-tables-and-schemas">Creating tables and schemas</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#writing-data">Writing data</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#querying-data">Querying data</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#modify-a-table">Modify a table</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#drop">DROP</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#hdfs-config-and-permissions">HDFS config and permissions</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.7.0-incubating/trino-connector/catalog-hive#s3">S3</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><div>
      <p>
        Copyright © 2025 The Apache Software Foundation, Licensed under the Apache License, Version 2.0. <br>
        Apache Gravitino, the names of other Apache projects, and the ASF logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.
      </p>
      </div></div></div></div></footer></div>
</body>
</html>