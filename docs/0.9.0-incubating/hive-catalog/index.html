<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.9.0-incubating docs-doc-page docs-doc-id-hive-catalog-with-cloud-storage" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Hive catalog with S3, ADLS and GCS | Apache Gravitino</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gravitino.apache.org/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://gravitino.apache.org/img/social-card.png"><meta data-rh="true" property="og:url" content="https://gravitino.apache.org/docs/0.9.0-incubating/hive-catalog"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.9.0-incubating"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.9.0-incubating"><meta data-rh="true" name="docsearch:version" content="0.9.0-incubating"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.9.0-incubating"><meta data-rh="true" property="og:title" content="Hive catalog with S3, ADLS and GCS | Apache Gravitino"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gravitino.apache.org/docs/0.9.0-incubating/hive-catalog"><link data-rh="true" rel="alternate" href="https://gravitino.apache.org/docs/0.9.0-incubating/hive-catalog" hreflang="en"><link data-rh="true" rel="alternate" href="https://gravitino.apache.org/docs/0.9.0-incubating/hive-catalog" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Gravitino RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Gravitino Atom Feed">









<script src="js/matomo.js" async></script><link rel="stylesheet" href="/assets/css/styles.31c9fd29.css">
<script src="/assets/js/runtime~main.d1f72152.js" defer="defer"></script>
<script src="/assets/js/main.f6ee1183.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_sMMS" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Logo" class="themedComponent_CzBg themedComponent--light_Z2p2"><img src="/img/logo.svg" alt="Logo" class="themedComponent_CzBg themedComponent--dark_bRqs"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Apache Gravitino</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/contrib">Contributing</a><a class="navbar__item navbar__link" href="/downloads">Downloads</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/0.9.0-incubating/">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/0.9.0-incubating/hive-catalog">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li><li><a href="https://github.com/apache/gravitino/blob/main/CODE_OF_CONDUCT.md" target="_blank" rel="noopener noreferrer" class="dropdown__link">Code of Conduct</a></li></ul></div><a href="https://github.com/apache/gravitino" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer_lxMG"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_B5Ig"><div class="docsWrapper_TF4G"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Yyoy" type="button"></button><div class="docRoot_uLK4"><aside class="theme-doc-sidebar-container docSidebarContainer_rueh"><div class="sidebarViewport_wsOw"><div class="sidebar_mhZE"><div class="tw"><div class="relative my-2 px-2"><button class="border-none relative w-full cursor-default rounded-md bg-white dark:bg-[#21222b] dark:text-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:text-sm sm:leading-6" id="headlessui-listbox-button-:R32llaqh:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><span class="flex items-center"><span class="ml-3 block truncate">0.9.0-incubating</span></span><span class="pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="h-5 w-5 text-gray-400"><path fill-rule="evenodd" d="M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z" clip-rule="evenodd"></path></svg></span></button></div></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.9.0-incubating/">What&#x27;s Apache Gravitino?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.9.0-incubating/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.9.0-incubating/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.9.0-incubating/how-to-install">How to install Gravitino</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.9.0-incubating/chart">Install Gravitino on Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.9.0-incubating/iceberg-rest-service">Iceberg REST catalog service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.9.0-incubating/webui">Web UI</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/0.9.0-incubating/lakehouse-iceberg-catalog">Catalogs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/0.9.0-incubating/lakehouse-iceberg-catalog">Relational</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.9.0-incubating/lakehouse-iceberg-catalog">Iceberg catalog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/0.9.0-incubating/apache-hive-catalog">Hive catalog</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.9.0-incubating/apache-hive-catalog">Hive catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/0.9.0-incubating/hive-catalog">Hive catalog with cloud storage</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.9.0-incubating/jdbc-mysql-catalog">MySQL catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.9.0-incubating/jdbc-postgresql-catalog">PostgreSQL catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.9.0-incubating/jdbc-doris-catalog">Doris catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.9.0-incubating/lakehouse-paimon-catalog">Paimon catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.9.0-incubating/lakehouse-hudi-catalog">Hudi catalog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.9.0-incubating/jdbc-oceanbase-catalog">OceanBase catalog</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/0.9.0-incubating/hadoop-catalog-index">Fileset</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/0.9.0-incubating/kafka-catalog">Messaging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/0.9.0-incubating/model-catalog">Model</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.9.0-incubating/trino-connector/index">Trino connector</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.9.0-incubating/spark-connector/spark-connector">Spark connector</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.9.0-incubating/flink-connector/flink-connector">Flink connector</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.9.0-incubating/gravitino-server-config">Server administration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.9.0-incubating/lineage/lineage">Lineage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.9.0-incubating/security/security">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.9.0-incubating/how-to-use-the-playground">Gravitino playground</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.9.0-incubating/manage-metalake-using-gravitino">Programming guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/0.9.0-incubating/how-to-build">Development guides</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/0.9.0-incubating/glossary">Apache Gravitino Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_G3Bx"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_G8XT"><div class="docItemContainer_QWLg"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nIPC" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Keg8"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Catalogs</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Relational</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Hive catalog</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Hive catalog with cloud storage</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.9.0-incubating</span><div class="tocCollapsible_pxzR theme-doc-toc-mobile tocMobile_uzv5"><button type="button" class="clean-btn tocCollapsibleButton_W9mq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Hive catalog with S3, ADLS and GCS</h1></header><div class="row"><div class="col col--12 markdown"><h2 class="anchor anchorWithStickyNavbar_X9Uu" id="introduction">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/docs/0.9.0-incubating/hive-catalog#introduction">​</a></h2>
<p>Since Hive 2.x, Hive has supported S3 as a storage backend, enabling users to store and manage data in Amazon S3 directly through Hive. Gravitino enhances this capability by supporting the Hive catalog with S3, allowing users to efficiently manage the storage locations of files located in S3. This integration simplifies data operations and enables seamless access to S3 data from Hive queries.</p>
<p>For ADLS (aka. Azure Blob Storage (ABS), or Azure Data Lake Storage (v2)) and GCS (Google Cloud Storage), the integration is similar to S3. The only difference is the configuration properties for ADLS and GCS (see below).</p>
<p>The following sections will guide you through the necessary steps to configure the Hive catalog to utilize S3, ADLS, and GCS as a storage backend, including configuration details and examples for creating databases and tables.</p>
<h2 class="anchor anchorWithStickyNavbar_X9Uu" id="hive-metastore-configuration">Hive metastore configuration<a class="hash-link" aria-label="Direct link to Hive metastore configuration" title="Direct link to Hive metastore configuration" href="/docs/0.9.0-incubating/hive-catalog#hive-metastore-configuration">​</a></h2>
<p>The following will mainly focus on configuring the Hive metastore to use S3 as a storage backend. The same configuration can be applied to ADLS and GCS with minor changes in the configuration properties.</p>
<h3 class="anchor anchorWithStickyNavbar_X9Uu" id="example-configuration-changes">Example Configuration Changes<a class="hash-link" aria-label="Direct link to Example Configuration Changes" title="Direct link to Example Configuration Changes" href="/docs/0.9.0-incubating/hive-catalog#example-configuration-changes">​</a></h3>
<p>Below are the essential properties to add or modify in the <code>hive-site.xml</code> file to support S3:</p>
<div class="language-xml codeBlockContainer_Cbyv theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_O2_i"><pre tabindex="0" class="prism-code language-xml codeBlock_JIho thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_Pt_q"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.s3a.access.key</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">S3_ACCESS_KEY_ID</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.s3a.secret.key</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">S3_SECRET_KEY_ID</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.s3a.endpoint</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">S3_ENDPOINT_ID</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- The following property is optional and can be replaced with the location property in the schema</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">definition and table definition, as shown in the examples below. After explicitly setting this</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">property, you can omit the location property in the schema and table definitions.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">It&#x27;s also applicable for Azure Blob Storage(ADLS) and GCS.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">hive.metastore.warehouse.dir</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">S3_BUCKET_PATH</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- The following two configurations are for Azure Blob Storage(ADLS) --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.abfss.impl</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">org.apache.hadoop.fs.azurebfs.SecureAzureBlobFileSystem</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.azure.account.key.ABS_ACCOUNT_NAME.dfs.core.windows.net</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">ABS_ACCOUNT_KEY</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- The following two configurations are only for Google Cloud Storage(gcs) --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.gs.auth.service.account.enable</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">true</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- SERVICE_ACCOUNT_FILE should be a local file or remote file that can be access by hive server --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">fs.gs.auth.service.account.json.keyfile</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">name</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">SERVICE_ACCOUNT_FILE</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">value</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_HM9B"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_hTNT" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N4P7"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jlWW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_X9Uu" id="adding-required-jars">Adding Required JARs<a class="hash-link" aria-label="Direct link to Adding Required JARs" title="Direct link to Adding Required JARs" href="/docs/0.9.0-incubating/hive-catalog#adding-required-jars">​</a></h3>
<p>After updating the <code>hive-site.xml</code>, you need to ensure that the necessary S3-related JARs are included in the Hive classpath. You can do this by executing the following command:</p>
<div class="language-shell codeBlockContainer_Cbyv theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_O2_i"><pre tabindex="0" class="prism-code language-shell codeBlock_JIho thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_Pt_q"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp ${HADOOP_HOME}/share/hadoop/tools/lib/*aws* ${HIVE_HOME}/lib</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># For Azure Blob Storage(ADLS)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp ${HADOOP_HOME}/share/hadoop/tools/lib/*azure* ${HIVE_HOME}/lib</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># For Google Cloud Storage(GCS)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp gcs-connector-hadoop3-2.2.22-shaded.jar ${HIVE_HOME}/lib</span><br></span></code></pre><div class="buttonGroup_HM9B"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_hTNT" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N4P7"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jlWW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="https://github.com/GoogleCloudDataproc/hadoop-connectors/releases/download/v2.2.22/gcs-connector-hadoop2-2.2.22-shaded.jar" target="_blank" rel="noopener noreferrer"><code>gcs-connector-hadoop3-2.2.22-shaded.jar</code></a> is the bundle jar that contains Hadoop GCS connector, you need to choose the corresponding gcs connector jar for the version of Hadoop you are using.</p>
<p>Alternatively, you can download the required JARs from the Maven repository and place them in the Hive classpath. It is crucial to verify that the JARs are compatible with the version of Hadoop you are using to avoid any compatibility issue.</p>
<h3 class="anchor anchorWithStickyNavbar_X9Uu" id="restart-hive-metastore">Restart Hive metastore<a class="hash-link" aria-label="Direct link to Restart Hive metastore" title="Direct link to Restart Hive metastore" href="/docs/0.9.0-incubating/hive-catalog#restart-hive-metastore">​</a></h3>
<p>Once all configurations have been correctly set, restart the Hive cluster to apply the changes. This step is essential to ensure that the new configurations take effect and that the Hive services can communicate with S3.</p>
<h2 class="anchor anchorWithStickyNavbar_X9Uu" id="creating-tables-or-databases-with-s3-storage-using-gravitino">Creating Tables or Databases with S3 Storage using Gravitino<a class="hash-link" aria-label="Direct link to Creating Tables or Databases with S3 Storage using Gravitino" title="Direct link to Creating Tables or Databases with S3 Storage using Gravitino" href="/docs/0.9.0-incubating/hive-catalog#creating-tables-or-databases-with-s3-storage-using-gravitino">​</a></h2>
<p>Assuming you have already set up a Hive catalog with Gravitino, you can proceed to create tables or databases using S3 storage. For more information on catalog operations, refer to <a href="/docs/0.9.0-incubating/manage-fileset-metadata-using-gravitino#catalog-operations">Catalog operations</a></p>
<h3 class="anchor anchorWithStickyNavbar_X9Uu" id="example-creating-a-database-with-s3-storage">Example: Creating a Database with S3 Storage<a class="hash-link" aria-label="Direct link to Example: Creating a Database with S3 Storage" title="Direct link to Example: Creating a Database with S3 Storage" href="/docs/0.9.0-incubating/hive-catalog#example-creating-a-database-with-s3-storage">​</a></h3>
<p>The following is an example of how to create a database in S3 using Gravitino:</p>
<div class="tabs-container tabList_zOi5"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_FPlI tabs__item--active">Shell</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_FPlI">Java</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_lfDC"><div class="language-shell codeBlockContainer_Cbyv theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_O2_i"><pre tabindex="0" class="prism-code language-shell codeBlock_JIho thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_Pt_q"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Accept: application/vnd.gravitino.v1+json&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-H &quot;Content-Type: application/json&quot; -d &#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;hive_schema&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;comment&quot;: &quot;comment&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;properties&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;location&quot;: &quot;s3a://bucket-name/path&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     # The following line is for Azure Blob Storage(ADLS)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     # &quot;location&quot;: &quot;abfss://container-name@user-account-name.dfs.core.windows.net/path&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     # The following line is for Google Cloud Storage(GCS)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     # &quot;location&quot;: &quot;gs://bucket-name/path&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}&#x27; http://localhost:8090/api/metalakes/metalake/catalogs/catalog/schemas</span><br></span></code></pre><div class="buttonGroup_HM9B"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_hTNT" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N4P7"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jlWW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_lfDC" hidden=""><div class="language-java codeBlockContainer_Cbyv theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_O2_i"><pre tabindex="0" class="prism-code language-java codeBlock_JIho thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_Pt_q"><span class="token-line" style="color:#bfc7d5"><span class="token plain">GravitinoClient gravitinoClient = GravitinoClient</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .builder(&quot;http://localhost:8090&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .withMetalake(&quot;metalake&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Assuming you have just created a Hadoop catalog named `catalog`</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Catalog catalog = gravitinoClient.loadCatalog(&quot;catalog&quot;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SupportsSchemas supportsSchemas = catalog.asSchemas();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Map&lt;String, String&gt; schemaProperties = ImmutableMap.&lt;String, String&gt;builder()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .put(&quot;location&quot;, &quot;s3a://bucket-name/path&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // The following line is for Azure Blob Storage(ADLS)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // .put(&quot;location&quot;, &quot;abfss://container-name@user-account-name.dfs.core.windows.net/path&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // The following lines for Google Cloud Storage(GCS)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // .put(&quot;location&quot;, &quot;gs://bucket-name/path&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Schema schema = supportsSchemas.createSchema(&quot;hive_schema&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;This is a schema&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    schemaProperties</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span><br></span></code></pre><div class="buttonGroup_HM9B"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_hTNT" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N4P7"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jlWW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>After creating the database, you can proceed to create tables under this schema using S3 storage. For further details on table operations, please refer to <a href="/docs/0.9.0-incubating/manage-relational-metadata-using-gravitino#table-operations">Table operations</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_X9Uu" id="access-tables-with-s3-storage-by-hive-cli">Access tables with S3 storage by Hive CLI<a class="hash-link" aria-label="Direct link to Access tables with S3 storage by Hive CLI" title="Direct link to Access tables with S3 storage by Hive CLI" href="/docs/0.9.0-incubating/hive-catalog#access-tables-with-s3-storage-by-hive-cli">​</a></h2>
<p>Assuming you have already created a table in the section <a href="/docs/0.9.0-incubating/hive-catalog#creating-tables-or-databases-with-s3-storage-using-gravitino">Creating Tables or Databases with S3 Storage using Gravitino</a>, let’s say the table is named <code>hive_table</code>. You can access the database/table and view its details using the Hive CLI as follows:</p>
<div class="language-shell codeBlockContainer_Cbyv theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_O2_i"><pre tabindex="0" class="prism-code language-shell codeBlock_JIho thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_Pt_q"><span class="token-line" style="color:#bfc7d5"><span class="token plain">hive&gt; show create database hive_schema;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE DATABASE `hive_schema`</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">COMMENT</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;comment&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LOCATION</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;s3a://my-test-bucket/test-1727168792125&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WITH DBPROPERTIES (</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;gravitino.identifier&#x27;=&#x27;gravitino.v1.uid2173913050348296645&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;key1&#x27;=&#x27;val1&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;key2&#x27;=&#x27;val2&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Time taken: 0.019 seconds, Fetched: 9 row(s)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">hive&gt; use hive_schema;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Time taken: 0.019 seconds</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">hive&gt; show create table cataloghiveit_table_fc7c7d16;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">CREATE TABLE `hive_table`(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  `hive_col_name1` tinyint COMMENT &#x27;col_1_comment&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  `hive_col_name2` date COMMENT &#x27;col_2_comment&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  `hive_col_name3` string COMMENT &#x27;col_3_comment&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">COMMENT &#x27;table_comment&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ROW FORMAT SERDE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">STORED AS INPUTFORMAT</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;org.apache.hadoop.mapred.TextInputFormat&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OUTPUTFORMAT</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LOCATION</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;s3a://my-test-bucket/test-1727168821335/hive_table&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">TBLPROPERTIES (</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;EXTERNAL&#x27;=&#x27;FALSE&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;gravitino.identifier&#x27;=&#x27;gravitino.v1.uid292928775813252841&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;key1&#x27;=&#x27;val1&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;key2&#x27;=&#x27;val2&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &#x27;transient_lastDdlTime&#x27;=&#x27;1727168821&#x27;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Time taken: 0.071 seconds, Fetched: 19 row(s)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; insert into hive_table values(1, &#x27;2022-11-12&#x27;, &#x27;hello&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Query ID = root_20240924091305_58ab83c7-7091-4cc7-a0d9-fa44945f45c6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Total jobs = 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Launching Job 1 out of 3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Number of reduce tasks is set to 0 since there&#x27;s no reduce operator</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Job running in-process (local Hadoop)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2024-09-24 09:13:08,381 Stage-1 map = 100%,  reduce = 0%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Ended Job = job_local1096072998_0001</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Stage-4 is selected by condition resolver.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Stage-3 is filtered out by condition resolver.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Stage-5 is filtered out by condition resolver.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Loading data to table hive_schema.hive_table</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">MapReduce Jobs Launched:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Stage-Stage-1:  HDFS Read: 0 HDFS Write: 0 SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Total MapReduce CPU Time Spent: 0 msec</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Time taken: 2.843 seconds</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">hive&gt; select * from hive_table;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">OK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1	2022-11-12	hello</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Time taken: 0.116 seconds, Fetched: 1 row(s)</span><br></span></code></pre><div class="buttonGroup_HM9B"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_hTNT" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N4P7"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jlWW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This command shows the creation details of the database hive_schema, including its location in S3 and any associated properties.</p>
<h2 class="anchor anchorWithStickyNavbar_X9Uu" id="accessing-tables-with-s3-storage-via-spark">Accessing Tables with S3 Storage via Spark<a class="hash-link" aria-label="Direct link to Accessing Tables with S3 Storage via Spark" title="Direct link to Accessing Tables with S3 Storage via Spark" href="/docs/0.9.0-incubating/hive-catalog#accessing-tables-with-s3-storage-via-spark">​</a></h2>
<p>To access S3-stored tables using Spark, you need to configure the SparkSession appropriately. Below is an example of how to set up the SparkSession with the necessary S3 configurations:</p>
<div class="language-java codeBlockContainer_Cbyv theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_O2_i"><pre tabindex="0" class="prism-code language-java codeBlock_JIho thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_Pt_q"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  SparkSession sparkSession =</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        SparkSession.builder()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.plugins&quot;, &quot;org.apache.gravitino.spark.connector.plugin.GravitinoSparkPlugin&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.gravitino.uri&quot;, &quot;http://localhost:8090&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.gravitino.metalake&quot;, &quot;xx&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.catalog.{hive_catalog_name}.fs.s3a.access.key&quot;, accessKey)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.catalog.{hive_catalog_name}.fs.s3a.secret.key&quot;, secretKey)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.catalog.{hive_catalog_name}.fs.s3a.endpoint&quot;, getS3Endpoint)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.catalog.{hive_catalog_name}.fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // This two is for Azure Blob Storage(ADLS) only</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                String.format(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    &quot;spark.sql.catalog.{hive_catalog_name}.fs.azure.account.key.%s.dfs.core.windows.net&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    ABS_USER_ACCOUNT_NAME),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ABS_USER_ACCOUNT_KEY)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.catalog.{hive_catalog_name}.fs.abfss.impl&quot;, &quot;org.apache.hadoop.fs.azurebfs.SecureAzureBlobFileSystem&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // This two is for Google Cloud Storage(GCS) only</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.catalog.{hive_catalog_name}.fs.gs.auth.service.account.enable&quot;, &quot;true&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.catalog.{hive_catalog_name}.fs.gs.auth.service.account.json.keyfile&quot;, &quot;SERVICE_ACCOUNT_FILE&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.catalog.{hive_catalog_name}.fs.s3a.path.style.access&quot;, &quot;true&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.catalog.{hive_catalog_name}.fs.s3a.connection.ssl.enabled&quot;, &quot;false&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;spark.sql.catalog.{hive_catalog_name}.fs.s3a.aws.credentials.provider&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;spark.sql.storeAssignmentPolicy&quot;, &quot;LEGACY&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .config(&quot;mapreduce.input.fileinputformat.input.dir.recursive&quot;, &quot;true&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .enableHiveSupport()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            .getOrCreate();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    sparkSession.sql(&quot;...&quot;);</span><br></span></code></pre><div class="buttonGroup_HM9B"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_hTNT" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_N4P7"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jlWW"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_fbdg alert alert--secondary"><div class="admonitionHeading_IWVi"><span class="admonitionIcon_Hv_V"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_C0wV"><p>Please download <a href="https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws" target="_blank" rel="noopener noreferrer">Hadoop AWS jar</a>, <a href="https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-bundle" target="_blank" rel="noopener noreferrer">aws java sdk jar</a> and place them in the classpath of the Spark. If the JARs are missing, Spark will not be able to access the S3 storage.
Azure Blob Storage(ADLS) requires the <a href="https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-azure" target="_blank" rel="noopener noreferrer">Hadoop Azure jar</a>, <a href="https://mvnrepository.com/artifact/com.azure/azure-storage-blob" target="_blank" rel="noopener noreferrer">Azure cloud sdk jar</a> to be placed in the classpath of the Spark.
for Google Cloud Storage(GCS), you need to download the <a href="https://github.com/GoogleCloudDataproc/hadoop-connectors/releases" target="_blank" rel="noopener noreferrer">Hadoop GCS jar</a> and place it in the classpath of the Spark.</p></div></div>
<p>By following these instructions, you can effectively manage and access your S3, ADLS or GCS data through both Hive CLI and Spark, leveraging the capabilities of Gravitino for optimal data management.</p></div></div></div><div class="row"><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/gravitino-site/tree/main/docs/hive-catalog-with-cloud-storage.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_F0Bg" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_FmaR"></div></div></footer></div></div></article><div class="row"><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/0.9.0-incubating/apache-hive-catalog"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Hive catalog</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/0.9.0-incubating/jdbc-mysql-catalog"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">MySQL catalog</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_klKw thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/0.9.0-incubating/hive-catalog#introduction">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.9.0-incubating/hive-catalog#hive-metastore-configuration">Hive metastore configuration</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/0.9.0-incubating/hive-catalog#example-configuration-changes">Example Configuration Changes</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.9.0-incubating/hive-catalog#adding-required-jars">Adding Required JARs</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.9.0-incubating/hive-catalog#restart-hive-metastore">Restart Hive metastore</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.9.0-incubating/hive-catalog#creating-tables-or-databases-with-s3-storage-using-gravitino">Creating Tables or Databases with S3 Storage using Gravitino</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/0.9.0-incubating/hive-catalog#example-creating-a-database-with-s3-storage">Example: Creating a Database with S3 Storage</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.9.0-incubating/hive-catalog#access-tables-with-s3-storage-by-hive-cli">Access tables with S3 storage by Hive CLI</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/0.9.0-incubating/hive-catalog#accessing-tables-with-s3-storage-via-spark">Accessing Tables with S3 Storage via Spark</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://incubator.apache.org/" rel="noopener noreferrer" class="footerLogoLink_oGIl"><img src="/img/apache-incubator.svg" alt="Apache Incubator logo" class="footer__logo themedComponent_CzBg themedComponent--light_Z2p2" width="200"><img src="/img/apache-incubator.svg" alt="Apache Incubator logo" class="footer__logo themedComponent_CzBg themedComponent--dark_bRqs" width="200"></a></div><div class="footer__copyright"><div>
      <p>
        Apache Gravitino is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
      </p>
      <p>
        Copyright © 2025 The Apache Software Foundation, Licensed under the Apache License, Version 2.0. <br>
        Apache Gravitino, the names of other Apache projects, and the ASF logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.
      </p>
      </div></div></div></div></footer></div>
</body>
</html>