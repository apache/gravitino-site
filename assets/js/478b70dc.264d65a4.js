"use strict";(globalThis.webpackChunkapache_website_template=globalThis.webpackChunkapache_website_template||[]).push([[81232],{15094(e,a,t){t.r(a),t.d(a,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>h});var n=t(13274),l=t(25709),s=t(38887),i=t(27067);const o={title:"Generic Lakehouse Catalog",slug:"/lakehouse-generic-catalog",keywords:["lakehouse","lance","metadata","generic catalog","file system"],license:"This software is licensed under the Apache License version 2."},r=void 0,c={id:"lakehouse-generic-catalog",title:"Generic Lakehouse Catalog",description:"Overview",source:"@site/docs/lakehouse-generic-catalog.md",sourceDirName:".",slug:"/lakehouse-generic-catalog",permalink:"/docs/next/lakehouse-generic-catalog",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/gravitino-site/tree/main/docs/lakehouse-generic-catalog.md",tags:[],version:"current",frontMatter:{title:"Generic Lakehouse Catalog",slug:"/lakehouse-generic-catalog",keywords:["lakehouse","lance","metadata","generic catalog","file system"],license:"This software is licensed under the Apache License version 2."},sidebar:"docs",previous:{title:"Hudi catalog",permalink:"/docs/next/lakehouse-hudi-catalog"},next:{title:"Lance table support",permalink:"/docs/next/lance-table-support"}},d={},h=[{value:"Overview",id:"overview",level:2},{value:"Why Use Generic Lakehouse Catalog?",id:"why-use-generic-lakehouse-catalog",level:3},{value:"Catalog Management",id:"catalog-management",level:2},{value:"Capabilities",id:"capabilities",level:3},{value:"Catalog Properties",id:"catalog-properties",level:3},{value:"Key Property: <code>location</code>",id:"key-property-location",level:4},{value:"Creating a Catalog",id:"creating-a-catalog",level:3},{value:"Schema Management",id:"schema-management",level:2},{value:"Capabilities",id:"capabilities-1",level:3},{value:"Schema Properties",id:"schema-properties",level:3},{value:"Schema Operations",id:"schema-operations",level:3},{value:"Table management",id:"table-management",level:2},{value:"Supported Operations",id:"supported-operations",level:3}];function u(e){const a={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(a.p,{children:"The Generic Lakehouse Catalog is a Gravitino catalog implementation designed to seamlessly integrate with lakehouse storage systems built on file system-based architectures. This catalog enables unified metadata management for lakehouse tables stored on various storage backends, providing a consistent interface for data discovery, governance, and access control."}),"\n",(0,n.jsxs)(a.p,{children:["Currently, Gravitino fully supports the ",(0,n.jsx)(a.strong,{children:"Lance"})," lakehouse format, with plans to extend support to additional formats in the future."]}),"\n",(0,n.jsx)(a.h3,{id:"why-use-generic-lakehouse-catalog",children:"Why Use Generic Lakehouse Catalog?"}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Unified Metadata Management"}),": Single source of truth for table metadata across multiple storage backends"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Multi-Format Support"}),": Extensible architecture to support various lakehouse table formats such as Lance, Iceberg, Hudi, etc."]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Storage Flexibility"}),": Work with any file system, local, or cloud object stores"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Gravitino Integration"}),": Leverage Gravitino's metadata management, access control, lineage tracking, and data discovery"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"Easy Migration"}),": Register existing lakehouse tables without data movement"]}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"catalog-management",children:"Catalog Management"}),"\n",(0,n.jsx)(a.h3,{id:"capabilities",children:"Capabilities"}),"\n",(0,n.jsx)(a.p,{children:"The Generic Lakehouse Catalog provides comprehensive relational metadata management capabilities equivalent to standard relational catalogs:"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Supported Operations:"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"\u2705 Create, read, update, and delete catalogs"}),"\n",(0,n.jsx)(a.li,{children:"\u2705 List all catalogs in a metalake"}),"\n",(0,n.jsx)(a.li,{children:"\u2705 Manage catalog properties and metadata"}),"\n",(0,n.jsx)(a.li,{children:"\u2705 Set and modify catalog locations"}),"\n",(0,n.jsx)(a.li,{children:"\u2705 Configure storage backend credentials"}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["For detailed information on available operations, see ",(0,n.jsx)(a.a,{href:"/docs/next/manage-relational-metadata-using-gravitino",children:"Manage Relational Metadata Using Gravitino"}),"."]}),"\n",(0,n.jsx)(a.h3,{id:"catalog-properties",children:"Catalog Properties"}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:"Property"}),(0,n.jsx)(a.th,{children:"Description"}),(0,n.jsx)(a.th,{children:"Example"}),(0,n.jsx)(a.th,{children:"Required"}),(0,n.jsx)(a.th,{children:"Since Version"})]})}),(0,n.jsxs)(a.tbody,{children:[(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.code,{children:"provider"})}),(0,n.jsx)(a.td,{children:"Catalog provider type"}),(0,n.jsx)(a.td,{children:(0,n.jsx)(a.code,{children:"lakehouse-generic"})}),(0,n.jsx)(a.td,{children:"Yes"}),(0,n.jsx)(a.td,{children:"1.1.0"})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.code,{children:"location"})}),(0,n.jsx)(a.td,{children:"Root storage path for all schemas and tables"}),(0,n.jsx)(a.td,{children:(0,n.jsx)(a.code,{children:"s3://bucket/lakehouse"})}),(0,n.jsx)(a.td,{children:"No"}),(0,n.jsx)(a.td,{children:"1.1.0"})]})]})]}),"\n",(0,n.jsxs)(a.h4,{id:"key-property-location",children:["Key Property: ",(0,n.jsx)(a.code,{children:"location"})]}),"\n",(0,n.jsxs)(a.p,{children:["The ",(0,n.jsx)(a.code,{children:"location"})," property specifies the root directory for the lakehouse table. All schemas and tables are stored under this location unless explicitly overridden at the schema or table level."]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Location Resolution Hierarchy:"})}),"\n",(0,n.jsxs)(a.ol,{children:["\n",(0,n.jsxs)(a.li,{children:["Table-level ",(0,n.jsx)(a.code,{children:"location"})," (highest priority)"]}),"\n",(0,n.jsxs)(a.li,{children:["Schema-level ",(0,n.jsx)(a.code,{children:"location"}),", then the location of the table will be ",(0,n.jsx)(a.code,{children:"{schema_location}/{table_name}"})]}),"\n",(0,n.jsxs)(a.li,{children:["Catalog-level ",(0,n.jsx)(a.code,{children:"location"})," (fallback), then the location of the table will be ",(0,n.jsx)(a.code,{children:"{catalog_location}/{schema_name}/{table_name}"})]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Example Location Hierarchy:"})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"Case1: only catalog location is set\nCatalog location: hdfs://namenode:9000/lakehouse\n\u2514\u2500\u2500 Schema: sales\n    \u251c\u2500\u2500 Table: orders. Final location of table: hdfs://namenode:9000/lakehouse/sales/orders\n    \u2514\u2500\u2500 Table: customers. Final location of table: hdfs://namenode:9000/lakehouse/sales/customers\n    \ncase2: schema location is set, overriding catalog location and table location is not set   \nCatalog location: hdfs://namenode:9000/lakehouse\n\u2514\u2500\u2500 Schema: sales: s3://sales-bucket/data\n    \u251c\u2500\u2500 Table: orders. Final location of table: s3://sales-bucket/data/orders\n    \u2514\u2500\u2500 Table: customers. Final location of table: s3://sales-bucket/data/customers\n\ncase3: table location is set, overriding both schema and catalog locations\nCatalog location: hdfs://namenode:9000/lakehouse\n\u2514\u2500\u2500 Schema: sales: s3://sales-bucket/data\n    \u251c\u2500\u2500 Table: orders.  Table location: s3://sales-bucket/my_orders, Final location of table: s3://sales-bucket/my_orders\n    \u2514\u2500\u2500 Table: customers. Table location: s3://sales-bucket/my_customers, Final location of table: s3://sales-bucket/my_customers\n    \n"})}),"\n",(0,n.jsx)(a.h3,{id:"creating-a-catalog",children:"Creating a Catalog"}),"\n",(0,n.jsxs)(a.p,{children:["Use ",(0,n.jsx)(a.code,{children:'provider: "lakehouse-generic"'})," when creating a generic lakehouse catalog."]}),"\n",(0,n.jsxs)(s.A,{groupId:"language",queryString:!0,children:[(0,n.jsx)(i.default,{value:"shell",label:"Shell",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-shell",children:'curl -X POST -H "Accept: application/vnd.gravitino.v1+json" \\\n  -H "Content-Type: application/json" -d \'{\n  "name": "generic_lakehouse_catalog",\n  "type": "RELATIONAL",\n  "comment": "Generic lakehouse catalog for Lance datasets",\n  "provider": "lakehouse-generic",\n  "properties": {\n    "location": "hdfs://localhost:9000/user/lakehouse"\n  }\n}\' http://localhost:8090/api/metalakes/metalake/catalogs\n'})})}),(0,n.jsx)(i.default,{value:"java",label:"Java",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-java",children:'GravitinoClient gravitinoClient = GravitinoClient\n    .builder("http://127.0.0.1:8090")\n    .withMetalake("metalake")\n    .build();\n\nMap<String, String> catalogProperties = ImmutableMap.<String, String>builder()\n    .put("location", "hdfs://localhost:9000/user/lakehouse")\n    .build();\n\nCatalog catalog = gravitinoClient.createCatalog(\n    "generic_lakehouse_catalog",\n    Type.RELATIONAL,\n    "lakehouse-generic",\n    "Generic lakehouse catalog for Lance datasets",\n    catalogProperties\n);\n'})})})]}),"\n",(0,n.jsxs)(a.p,{children:["Other catalog operations are general with relational catalogs. See ",(0,n.jsx)(a.a,{href:"/docs/next/manage-relational-metadata-using-gravitino#catalog-operations",children:"Catalog Operations"})," for detailed documentation."]}),"\n",(0,n.jsx)(a.h2,{id:"schema-management",children:"Schema Management"}),"\n",(0,n.jsx)(a.h3,{id:"capabilities-1",children:"Capabilities"}),"\n",(0,n.jsx)(a.p,{children:"Schema operations follow the same patterns as relational catalogs:"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Supported Operations:"})}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"\u2705 Create schemas with custom properties"}),"\n",(0,n.jsx)(a.li,{children:"\u2705 List all schemas in a catalog"}),"\n",(0,n.jsx)(a.li,{children:"\u2705 Load schema metadata and properties"}),"\n",(0,n.jsx)(a.li,{children:"\u2705 Update schema properties"}),"\n",(0,n.jsx)(a.li,{children:"\u2705 Delete schemas"}),"\n",(0,n.jsx)(a.li,{children:"\u2705 Check schema existence"}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["See ",(0,n.jsx)(a.a,{href:"/docs/next/manage-relational-metadata-using-gravitino#schema-operations",children:"Schema Operations"})," for detailed documentation."]}),"\n",(0,n.jsx)(a.h3,{id:"schema-properties",children:"Schema Properties"}),"\n",(0,n.jsx)(a.p,{children:"Schemas inherit catalog properties and can override specific settings:"}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:"Property"}),(0,n.jsx)(a.th,{children:"Description"}),(0,n.jsx)(a.th,{children:"Example"}),(0,n.jsx)(a.th,{children:"Required"}),(0,n.jsx)(a.th,{children:"Since version"})]})}),(0,n.jsx)(a.tbody,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:(0,n.jsx)(a.code,{children:"location"})}),(0,n.jsx)(a.td,{children:"Custom storage root path for all tables under the schema"}),(0,n.jsx)(a.td,{children:"'s3://bucket/path_to_schema'"}),(0,n.jsx)(a.td,{children:"No"}),(0,n.jsx)(a.td,{children:"1.1.0"})]})})]}),"\n",(0,n.jsxs)(a.p,{children:["About location resolution hierarchy, please see ",(0,n.jsxs)(a.a,{href:"#key-property-location",children:["Key Property: ",(0,n.jsx)(a.code,{children:"location"})]})," in the Catalog Management section for more details."]}),"\n",(0,n.jsx)(a.h3,{id:"schema-operations",children:"Schema Operations"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Creating a Schema:"})}),"\n",(0,n.jsxs)(s.A,{groupId:"language",queryString:!0,children:[(0,n.jsx)(i.default,{value:"shell",label:"Shell",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-shell",children:'curl -X POST -H "Accept: application/vnd.gravitino.v1+json" \\\n  -H "Content-Type: application/json" -d \'{\n  "name": "sales",\n  "comment": "Sales department data",\n  "properties": {\n    "location": "s3://sales-bucket/data",\n    "owner": "sales-team"\n  }\n}\' http://localhost:8090/api/metalakes/metalake/catalogs/lakehouse_catalog/schemas\n'})})}),(0,n.jsx)(i.default,{value:"java",label:"Java",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-java",children:'Map<String, String> schemaProperties = ImmutableMap.<String, String>builder()\n    .put("location", "s3://sales-bucket/data")\n    .put("owner", "sales-team")\n    .build();\n\ncatalog.asSchemas().createSchema(\n    "sales",\n    "Sales department data",\n    schemaProperties\n);\n'})})})]}),"\n",(0,n.jsxs)(a.p,{children:["For additional operations, refer to ",(0,n.jsx)(a.a,{href:"/docs/next/manage-relational-metadata-using-gravitino#schema-operations",children:"Schema Operations documentation"}),"."]}),"\n",(0,n.jsx)(a.h2,{id:"table-management",children:"Table management"}),"\n",(0,n.jsx)(a.h3,{id:"supported-operations",children:"Supported Operations"}),"\n",(0,n.jsx)(a.p,{children:"Since different lakehouse table formats have varying capabilities, table operation support may differ. The following are table operations for different lakehouse formats."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"/docs/next/lance-table-support",children:"Lance Format Support"})}),"\n"]})]})}function p(e={}){const{wrapper:a}={...(0,l.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},38887(e,a,t){t.d(a,{A:()=>g});var n=t(79474),l=t(13526),s=t(50864),i=t(25591),o=t(64401);const r="tabList_ruUt",c="tabItem_ncTh";var d=t(13274);function h({className:e,block:a,selectedValue:t,selectValue:n,tabValues:i}){const o=[],{blockElementScrollPositionUntilNextRender:r}=(0,s.a_)(),h=e=>{const a=e.currentTarget,l=o.indexOf(a),s=i[l].value;s!==t&&(r(a),n(s))},u=e=>{let a=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;a=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;a=o[t]??o[o.length-1];break}}a?.focus()};return(0,d.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":a},e),children:i.map(({value:e,label:a,attributes:n})=>(0,d.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>o.push(e),onKeyDown:u,onClick:h,...n,className:(0,l.A)("tabs__item",c,n?.className,{"tabs__item--active":t===e}),children:a??e},e))})}function u({lazy:e,children:a,selectedValue:t}){const l=(Array.isArray(a)?a:[a]).filter(Boolean);if(e){const e=l.find(e=>e.props.value===t);return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,d.jsx)("div",{className:"margin-top--md",children:l.map((e,a)=>(0,n.cloneElement)(e,{key:a,hidden:e.props.value!==t}))})}function p(e){const a=(0,i.u)(e);return(0,d.jsxs)("div",{className:(0,l.A)("tabs-container",r),children:[(0,d.jsx)(h,{...a,...e}),(0,d.jsx)(u,{...a,...e})]})}function g(e){const a=(0,o.default)();return(0,d.jsx)(p,{...e,children:(0,i.v)(e.children)},String(a))}}}]);