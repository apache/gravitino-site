"use strict";(self.webpackChunkapache_website_template=self.webpackChunkapache_website_template||[]).push([[41289],{24824:(e,n,i)=>{i.r(n),i.d(n,{default:()=>d});i(79474);var r=i(13526);const s={tabItem:"tabItem_sVbG"};var t=i(13274);function d({children:e,hidden:n,className:i}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,i),hidden:n,children:e})}},44814:(e,n,i)=>{i.d(n,{u:()=>j,v:()=>a});var r=i(79474),s=i(20241),t=i(732),d=i(85866),l=i(68883),c=i(72158);function a(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function o(e){const{values:n,children:i}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return a(e).map(({props:{value:e,label:n,attributes:i,default:r}})=>({value:e,label:n,attributes:i,default:r}))}(i);return function(e){const n=(0,l.X)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,i])}function h({value:e,tabValues:n}){return n.some(n=>n.value===e)}function x({queryString:e=!1,groupId:n}){const i=(0,s.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,d.aZ)(t),(0,r.useCallback)(e=>{if(!t)return;const n=new URLSearchParams(i.location.search);n.set(t,e),i.replace({...i.location,search:n.toString()})},[t,i])]}function j(e){const{defaultValue:n,queryString:i=!1,groupId:s}=e,d=o(e),[l,a]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const i=n.find(e=>e.default)??n[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:d})),[j,u]=x({queryString:i,groupId:s}),[p,b]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[i,s]=(0,c.Dv)(n);return[i,(0,r.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:s}),g=(()=>{const e=j??p;return h({value:e,tabValues:d})?e:null})();(0,t.A)(()=>{g&&a(g)},[g]);return{selectedValue:l,selectValue:(0,r.useCallback)(e=>{if(!h({value:e,tabValues:d}))throw new Error(`Can't select invalid tab value=${e}`);a(e),u(e),b(e)},[u,b,d]),tabValues:d}}},51534:(e,n,i)=>{i.d(n,{A:()=>j});var r=i(79474),s=i(13526),t=i(29345),d=i(44814),l=i(89416);const c={tabList:"tabList_dwg3",tabItem:"tabItem_Ovj_"};var a=i(13274);function o({className:e,block:n,selectedValue:i,selectValue:r,tabValues:d}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,t.a_)(),h=e=>{const n=e.currentTarget,s=l.indexOf(n),t=d[s].value;t!==i&&(o(n),r(t))},x=e=>{let n=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const i=l.indexOf(e.currentTarget)+1;n=l[i]??l[0];break}case"ArrowLeft":{const i=l.indexOf(e.currentTarget)-1;n=l[i]??l[l.length-1];break}}n?.focus()};return(0,a.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:d.map(({value:e,label:n,attributes:r})=>(0,a.jsx)("li",{role:"tab",tabIndex:i===e?0:-1,"aria-selected":i===e,ref:e=>l.push(e),onKeyDown:x,onClick:h,...r,className:(0,s.A)("tabs__item",c.tabItem,r?.className,{"tabs__item--active":i===e}),children:n??e},e))})}function h({lazy:e,children:n,selectedValue:i}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===i);return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,a.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==i}))})}function x(e){const n=(0,d.u)(e);return(0,a.jsxs)("div",{className:(0,s.A)("tabs-container",c.tabList),children:[(0,a.jsx)(o,{...n,...e}),(0,a.jsx)(h,{...n,...e})]})}function j(e){const n=(0,l.default)();return(0,a.jsx)(x,{...e,children:(0,d.v)(e.children)},String(n))}},55390:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var r=i(79474);const s={},t=r.createContext(s);function d(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(t.Provider,{value:n},e.children)}},71350:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>j,frontMatter:()=>l,metadata:()=>a,toc:()=>h});var r=i(13274),s=i(55390),t=i(51534),d=i(24824);const l={title:"Iceberg catalog",slug:"/lakehouse-iceberg-catalog",keywords:["lakehouse","iceberg","metadata"],license:"This software is licensed under the Apache License version 2."},c=void 0,a={id:"lakehouse-iceberg-catalog",title:"Iceberg catalog",description:"Introduction",source:"@site/versioned_docs/version-0.6.1-incubating/lakehouse-iceberg-catalog.md",sourceDirName:".",slug:"/lakehouse-iceberg-catalog",permalink:"/docs/0.6.1-incubating/lakehouse-iceberg-catalog",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/gravitino-site/tree/main/docs/lakehouse-iceberg-catalog.md",tags:[],version:"0.6.1-incubating",frontMatter:{title:"Iceberg catalog",slug:"/lakehouse-iceberg-catalog",keywords:["lakehouse","iceberg","metadata"],license:"This software is licensed under the Apache License version 2."},sidebar:"docs",previous:{title:"Web UI",permalink:"/docs/0.6.1-incubating/webui"},next:{title:"Hive catalog",permalink:"/docs/0.6.1-incubating/apache-hive-catalog"}},o={},h=[{value:"Introduction",id:"introduction",level:2},{value:"Requirements and limitations",id:"requirements-and-limitations",level:3},{value:"Catalog",id:"catalog",level:2},{value:"Catalog capabilities",id:"catalog-capabilities",level:3},{value:"Catalog properties",id:"catalog-properties",level:3},{value:"JDBC catalog",id:"jdbc-catalog",level:4},{value:"S3",id:"s3",level:4},{value:"Catalog operations",id:"catalog-operations",level:3},{value:"Schema",id:"schema",level:2},{value:"Schema capabilities",id:"schema-capabilities",level:3},{value:"Schema properties",id:"schema-properties",level:3},{value:"Schema operations",id:"schema-operations",level:3},{value:"Table",id:"table",level:2},{value:"Table capabilities",id:"table-capabilities",level:3},{value:"Table partitions",id:"table-partitions",level:3},{value:"Table sort orders",id:"table-sort-orders",level:3},{value:"Table distributions",id:"table-distributions",level:3},{value:"Table column types",id:"table-column-types",level:3},{value:"Table properties",id:"table-properties",level:3},{value:"Table indexes",id:"table-indexes",level:3},{value:"Table operations",id:"table-operations",level:3},{value:"Alter table operations",id:"alter-table-operations",level:4},{value:"HDFS configuration",id:"hdfs-configuration",level:2}];function x(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(n.p,{children:"Apache Gravitino provides the ability to manage Apache Iceberg metadata."}),"\n",(0,r.jsx)(n.h3,{id:"requirements-and-limitations",children:"Requirements and limitations"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Builds with Apache Iceberg ",(0,r.jsx)(n.code,{children:"1.5.2"}),". The Apache Iceberg table format version is ",(0,r.jsx)(n.code,{children:"2"})," by default."]})}),"\n",(0,r.jsx)(n.h2,{id:"catalog",children:"Catalog"}),"\n",(0,r.jsx)(n.h3,{id:"catalog-capabilities",children:"Catalog capabilities"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Works as a catalog proxy, supporting ",(0,r.jsx)(n.code,{children:"HiveCatalog"}),", ",(0,r.jsx)(n.code,{children:"JdbcCatalog"})," and ",(0,r.jsx)(n.code,{children:"RESTCatalog"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Supports DDL operations for Iceberg schemas and tables."}),"\n",(0,r.jsx)(n.li,{children:"Doesn't support snapshot or table management operations."}),"\n",(0,r.jsx)(n.li,{children:"Supports S3 and HDFS storage."}),"\n",(0,r.jsx)(n.li,{children:"Supports Kerberos or simple authentication for Iceberg catalog with Hive backend."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"catalog-properties",children:"Catalog properties"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property name"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default value"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Since Version"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"catalog-backend"})}),(0,r.jsxs)(n.td,{children:["Catalog backend of Gravitino Iceberg catalog. Supports ",(0,r.jsx)(n.code,{children:"hive"})," or ",(0,r.jsx)(n.code,{children:"jdbc"})," or ",(0,r.jsx)(n.code,{children:"rest"}),"."]}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"uri"})}),(0,r.jsxs)(n.td,{children:["The URI configuration of the Iceberg catalog. ",(0,r.jsx)(n.code,{children:"thrift://127.0.0.1:9083"})," or ",(0,r.jsx)(n.code,{children:"jdbc:postgresql://127.0.0.1:5432/db_name"})," or ",(0,r.jsx)(n.code,{children:"jdbc:mysql://127.0.0.1:3306/metastore_db"})," or ",(0,r.jsx)(n.code,{children:"http://127.0.0.1:9001"}),"."]}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"warehouse"})}),(0,r.jsxs)(n.td,{children:["Warehouse directory of catalog. ",(0,r.jsx)(n.code,{children:"file:///user/hive/warehouse-hive/"})," for local fs or ",(0,r.jsx)(n.code,{children:"hdfs://namespace/hdfs/path"})," for HDFS."]}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"catalog-backend-name"})}),(0,r.jsx)(n.td,{children:"The catalog name passed to underlying Iceberg catalog backend. Catalog name in JDBC backend is used to isolate namespace and tables."}),(0,r.jsxs)(n.td,{children:["The property value of ",(0,r.jsx)(n.code,{children:"catalog-backend"}),", like ",(0,r.jsx)(n.code,{children:"jdbc"})," for JDBC catalog backend."]}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.5.2"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Any properties not defined by Gravitino with ",(0,r.jsx)(n.code,{children:"gravitino.bypass."})," prefix will pass to Iceberg catalog properties and HDFS configuration. For example, if specify ",(0,r.jsx)(n.code,{children:"gravitino.bypass.list-all-tables"}),", ",(0,r.jsx)(n.code,{children:"list-all-tables"})," will pass to Iceberg catalog properties."]}),"\n",(0,r.jsxs)(n.p,{children:["When you use the Gravitino with Trino. You can pass the Trino Iceberg connector configuration using prefix ",(0,r.jsx)(n.code,{children:"trino.bypass."}),". For example, using ",(0,r.jsx)(n.code,{children:"trino.bypass.iceberg.table-statistics-enabled"})," to pass the ",(0,r.jsx)(n.code,{children:"iceberg.table-statistics-enabled"})," to the Gravitino Iceberg catalog in Trino runtime."]}),"\n",(0,r.jsxs)(n.p,{children:["When you use the Gravitino with Spark. You can pass the Spark Iceberg connector configuration using prefix ",(0,r.jsx)(n.code,{children:"spark.bypass."}),". For example, using ",(0,r.jsx)(n.code,{children:"spark.bypass.io-impl"})," to pass the ",(0,r.jsx)(n.code,{children:"io-impl"})," to the Spark Iceberg connector in Spark runtime."]}),"\n",(0,r.jsx)(n.h4,{id:"jdbc-catalog",children:"JDBC catalog"}),"\n",(0,r.jsxs)(n.p,{children:["If you are using JDBC catalog, you must provide ",(0,r.jsx)(n.code,{children:"jdbc-user"}),", ",(0,r.jsx)(n.code,{children:"jdbc-password"})," and ",(0,r.jsx)(n.code,{children:"jdbc-driver"})," to catalog properties."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property name"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default value"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Since Version"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"jdbc-user"})}),(0,r.jsx)(n.td,{children:"JDBC user name"}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"jdbc-password"})}),(0,r.jsx)(n.td,{children:"JDBC password"}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"jdbc-driver"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"com.mysql.jdbc.Driver"})," or ",(0,r.jsx)(n.code,{children:"com.mysql.cj.jdbc.Driver"})," for MySQL, ",(0,r.jsx)(n.code,{children:"org.postgresql.Driver"})," for PostgreSQL"]}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"0.3.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"jdbc-initialize"})}),(0,r.jsx)(n.td,{children:"Whether to initialize meta tables when create JDBC catalog"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.2.0"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["If you have a JDBC Iceberg catalog prior, you must set ",(0,r.jsx)(n.code,{children:"catalog-backend-name"})," to keep consistent with your Jdbc Iceberg catalog name to operate the prior namespace and tables."]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["You must download the corresponding JDBC driver to the ",(0,r.jsx)(n.code,{children:"catalogs/lakehouse-iceberg/libs"})," directory."]})}),"\n",(0,r.jsx)(n.h4,{id:"s3",children:"S3"}),"\n",(0,r.jsx)(n.p,{children:"Supports using static access-key-id and secret-access-key to access S3 data."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Configuration item"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default value"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Since Version"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"io-impl"})}),(0,r.jsxs)(n.td,{children:["The io implementation for ",(0,r.jsx)(n.code,{children:"FileIO"})," in Iceberg, use ",(0,r.jsx)(n.code,{children:"org.apache.iceberg.aws.s3.S3FileIO"})," for s3."]}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.6.0-incubating"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"s3-access-key-id"})}),(0,r.jsx)(n.td,{children:"The static access key ID used to access S3 data."}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.6.0-incubating"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"s3-secret-access-key"})}),(0,r.jsx)(n.td,{children:"The static secret access key used to access S3 data."}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.6.0-incubating"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"s3-endpoint"})}),(0,r.jsx)(n.td,{children:"An alternative endpoint of the S3 service, This could be used for S3FileIO with any s3-compatible object storage service that has a different endpoint, or access a private S3 endpoint in a virtual private cloud."}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.6.0-incubating"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"s3-region"})}),(0,r.jsxs)(n.td,{children:["The region of the S3 service, like ",(0,r.jsx)(n.code,{children:"us-west-2"}),"."]}),(0,r.jsx)(n.td,{children:"(none)"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.6.0-incubating"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["For other Iceberg s3 properties not managed by Gravitino like ",(0,r.jsx)(n.code,{children:"s3.sse.type"}),", you could config it directly by ",(0,r.jsx)(n.code,{children:"gravitino.bypass.s3.sse.type"}),"."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["To configure the JDBC catalog backend, set the ",(0,r.jsx)(n.code,{children:"warehouse"})," parameter to ",(0,r.jsx)(n.code,{children:"s3://{bucket_name}/${prefix_name}"}),". For the Hive catalog backend, set ",(0,r.jsx)(n.code,{children:"warehouse"})," to ",(0,r.jsx)(n.code,{children:"s3a://{bucket_name}/${prefix_name}"}),". Additionally, download the [Iceberg AWS bundle](",(0,r.jsx)(n.a,{href:"https://mvnrepository.com/artifact/org.apache.iceberg/iceberg-aws-bundle",children:"Iceberg AWS bundle"}),") and place it in the ",(0,r.jsx)(n.code,{children:"catalogs/lakehouse-iceberg/libs/"})," directory."]})}),"\n",(0,r.jsx)(n.h3,{id:"catalog-operations",children:"Catalog operations"}),"\n",(0,r.jsxs)(n.p,{children:["Please refer to ",(0,r.jsx)(n.a,{href:"/docs/0.6.1-incubating/manage-relational-metadata-using-gravitino#catalog-operations",children:"Manage Relational Metadata Using Gravitino"})," for more details."]}),"\n",(0,r.jsx)(n.h2,{id:"schema",children:"Schema"}),"\n",(0,r.jsx)(n.h3,{id:"schema-capabilities",children:"Schema capabilities"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"doesn't support cascade drop schema."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"schema-properties",children:"Schema properties"}),"\n",(0,r.jsxs)(n.p,{children:["You could put properties except ",(0,r.jsx)(n.code,{children:"comment"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"schema-operations",children:"Schema operations"}),"\n",(0,r.jsxs)(n.p,{children:["Please refer to ",(0,r.jsx)(n.a,{href:"/docs/0.6.1-incubating/manage-relational-metadata-using-gravitino#schema-operations",children:"Manage Relational Metadata Using Gravitino"})," for more details."]}),"\n",(0,r.jsx)(n.h2,{id:"table",children:"Table"}),"\n",(0,r.jsx)(n.h3,{id:"table-capabilities",children:"Table capabilities"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Doesn't support column default value."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"table-partitions",children:"Table partitions"}),"\n",(0,r.jsx)(n.p,{children:"Supports transforms:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"IdentityTransform"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"BucketTransform"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"TruncateTransform"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"YearTransform"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"MonthTransform"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"DayTransform"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"HourTransform"})}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Iceberg doesn't support multi fields in ",(0,r.jsx)(n.code,{children:"BucketTransform"}),".\nIceberg doesn't support ",(0,r.jsx)(n.code,{children:"ApplyTransform"}),", ",(0,r.jsx)(n.code,{children:"RangeTransform"}),", and ",(0,r.jsx)(n.code,{children:"ListTransform"}),"."]})}),"\n",(0,r.jsx)(n.h3,{id:"table-sort-orders",children:"Table sort orders"}),"\n",(0,r.jsx)(n.p,{children:"supports expressions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"FieldReference"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"FunctionExpression"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"bucket"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"truncate"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"year"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"month"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"day"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"hour"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.code,{children:"bucket"})," and ",(0,r.jsx)(n.code,{children:"truncate"}),", the first argument must be integer literal, and the second argument must be field reference."]})}),"\n",(0,r.jsx)(n.h3,{id:"table-distributions",children:"Table distributions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Gravitino used by default ",(0,r.jsx)(n.code,{children:"NoneDistribution"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.A,{groupId:"language",queryString:!0,children:[(0,r.jsx)(d.default,{value:"json",label:"JSON",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "strategy": "none",\n  "number": 0,\n  "expressions": []\n}\n'})})}),(0,r.jsx)(d.default,{value:"java",label:"Java",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"Distributions.NONE;\n"})})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Support ",(0,r.jsx)(n.code,{children:"HashDistribution"}),", Hash distribute by partition key."]}),"\n"]}),"\n",(0,r.jsxs)(t.A,{groupId:"language",queryString:!0,children:[(0,r.jsx)(d.default,{value:"json",label:"JSON",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "strategy": "hash",\n  "number": 0,\n  "expressions": []\n}\n'})})}),(0,r.jsx)(d.default,{value:"java",label:"Java",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"Distributions.HASH;\n"})})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Support ",(0,r.jsx)(n.code,{children:"RangeDistribution"}),", You can pass ",(0,r.jsx)(n.code,{children:"range"})," as values through the API. Range distribute by partition key or sort key if table has an SortOrder."]}),"\n"]}),"\n",(0,r.jsxs)(t.A,{groupId:"language",queryString:!0,children:[(0,r.jsx)(d.default,{value:"json",label:"JSON",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "strategy": "range",\n  "number": 0,\n  "expressions": []\n}\n'})})}),(0,r.jsx)(d.default,{value:"java",label:"Java",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"Distributions.RANGE;\n"})})})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"Iceberg automatically distributes the data according to the partition or table sort order. It is forbidden to specify distribution expressions."})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Apache Iceberg doesn't support Gravitino ",(0,r.jsx)(n.code,{children:"EvenDistribution"})," type."]})}),"\n",(0,r.jsx)(n.h3,{id:"table-column-types",children:"Table column types"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Gravitino Type"}),(0,r.jsx)(n.th,{children:"Apache Iceberg Type"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Struct"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Struct"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Map"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Map"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"List"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Array"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Boolean"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Boolean"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Integer"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Integer"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Long"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Long"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Float"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Float"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Double"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Double"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"String"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"String"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Date"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Date"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Time"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Time"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TimestampType withZone"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TimestampType withZone"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TimestampType withoutZone"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TimestampType withoutZone"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Decimal"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Decimal"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Fixed"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Fixed"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Binary"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Binary"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"UUID"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"UUID"})})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Apache Iceberg doesn't support Gravitino ",(0,r.jsx)(n.code,{children:"Varchar"})," ",(0,r.jsx)(n.code,{children:"Fixedchar"})," ",(0,r.jsx)(n.code,{children:"Byte"})," ",(0,r.jsx)(n.code,{children:"Short"})," ",(0,r.jsx)(n.code,{children:"Union"})," type.\nMeanwhile, the data types other than listed above are mapped to Gravitino ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/docs/0.6.1-incubating/manage-relational-metadata-using-gravitino#external-type",children:"External Type"})})," that represents an unresolvable data type since 0.6.0-incubating."]})}),"\n",(0,r.jsx)(n.h3,{id:"table-properties",children:"Table properties"}),"\n",(0,r.jsxs)(n.p,{children:["You can pass ",(0,r.jsx)(n.a,{href:"https://iceberg.apache.org/docs/1.5.2/configuration/",children:"Iceberg table properties"})," to Gravitino when creating an Iceberg table."]}),"\n",(0,r.jsx)(n.p,{children:"The Gravitino server doesn't allow passing the following reserved fields."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Configuration item"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Since Version"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"comment"})}),(0,r.jsxs)(n.td,{children:["The table comment, please use ",(0,r.jsx)(n.code,{children:"comment"})," field in table meta instead."]}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"creator"})}),(0,r.jsx)(n.td,{children:"The table creator."}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"current-snapshot-id"})}),(0,r.jsx)(n.td,{children:"The snapshot represents the current state of the table."}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cherry-pick-snapshot-id"})}),(0,r.jsx)(n.td,{children:"Selecting a specific snapshot in a merge operation."}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sort-order"})}),(0,r.jsxs)(n.td,{children:["Iceberg table sort order, please use ",(0,r.jsx)(n.code,{children:"SortOrder"})," in table meta instead."]}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"identifier-fields"})}),(0,r.jsx)(n.td,{children:"The identifier fields for defining the table."}),(0,r.jsx)(n.td,{children:"0.2.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"write.distribution-mode"})}),(0,r.jsxs)(n.td,{children:["Defines distribution of write data, please use ",(0,r.jsx)(n.code,{children:"distribution"})," in table meta instead."]}),(0,r.jsx)(n.td,{children:"0.2.0"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Gravitino server doesn't allow to change such properties:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Configuration item"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default value"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Since Version"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"location"})}),(0,r.jsx)(n.td,{children:"Iceberg location for table storage."}),(0,r.jsx)(n.td,{children:"None"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"0.2.0"})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"table-indexes",children:"Table indexes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Doesn't support table indexes."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"table-operations",children:"Table operations"}),"\n",(0,r.jsxs)(n.p,{children:["Please refer to ",(0,r.jsx)(n.a,{href:"/docs/0.6.1-incubating/manage-relational-metadata-using-gravitino#table-operations",children:"Manage Relational Metadata Using Gravitino"})," for more details."]}),"\n",(0,r.jsx)(n.h4,{id:"alter-table-operations",children:"Alter table operations"}),"\n",(0,r.jsx)(n.p,{children:"Supports operations:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"RenameTable"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SetProperty"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"RemoveProperty"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"UpdateComment"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"AddColumn"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"DeleteColumn"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"RenameColumn"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"UpdateColumnType"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"UpdateColumnPosition"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"UpdateColumnNullability"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"UpdateColumnComment"})}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["The default column position is ",(0,r.jsx)(n.code,{children:"LAST"})," when you add a column. If you add a non nullability column, there may be compatibility issues."]})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"If you update a nullability column to non nullability, there may be compatibility issues."})}),"\n",(0,r.jsx)(n.h2,{id:"hdfs-configuration",children:"HDFS configuration"}),"\n",(0,r.jsxs)(n.p,{children:["You can place ",(0,r.jsx)(n.code,{children:"core-site.xml"})," and ",(0,r.jsx)(n.code,{children:"hdfs-site.xml"})," in the ",(0,r.jsx)(n.code,{children:"catalogs/lakehouse-iceberg/conf"})," directory to automatically load as the default HDFS configuration."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Builds with Hadoop 2.10.x, there may be compatibility issues when accessing Hadoop 3.x clusters.\nWhen writing to HDFS, the Gravitino Iceberg REST server can only operate as the specified HDFS user and doesn't support proxying to other HDFS users. See ",(0,r.jsx)(n.a,{href:"/docs/0.6.1-incubating/gravitino-server-config",children:"How to access Apache Hadoop"})," for more details."]})})]})}function j(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}}}]);