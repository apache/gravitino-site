"use strict";(self.webpackChunkapache_website_template=self.webpackChunkapache_website_template||[]).push([[49444],{25224:(e,t,a)=>{a.d(t,{A:()=>l});const l=a.p+"assets/images/workflow-49619bbe898c269f5c7246d6dacc6f5d.png"},49467:(e,t,a)=>{a.d(t,{A:()=>l});const l=a.p+"assets/images/user-group-550271c523a95b25c19e2499bc06fdc0.png"},53391:(e,t,a)=>{a.d(t,{A:()=>l});const l=a.p+"assets/images/role-a5cad86c323ef217cee7611e273a56fa.png"},78742:(e,t,a)=>{a.d(t,{A:()=>l});const l=a.p+"assets/images/privilege-7f473e957244042647e7ff45c59a7582.png"},85306:(e,t,a)=>{a.d(t,{A:()=>l});const l=a.p+"assets/images/object-673ec9bf705a68123ee5d8d4092b7c86.png"},92572:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>d,frontMatter:()=>n,metadata:()=>r,toc:()=>c});var l=a(13274),s=a(21943);const n={title:"Access Control",slug:"/security/access-control",keyword:"security",license:"This software is licensed under the Apache License version 2."},i=void 0,r={id:"security/access-control",title:"Access Control",description:"Overview",source:"@site/docs/security/access-control.md",sourceDirName:"security",slug:"/security/access-control",permalink:"/docs/next/security/access-control",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/gravitino-site/tree/main/docs/security/access-control.md",tags:[],version:"current",frontMatter:{title:"Access Control",slug:"/security/access-control",keyword:"security",license:"This software is licensed under the Apache License version 2."},sidebar:"docs",previous:{title:"Overview",permalink:"/docs/next/security/security"},next:{title:"Authorization Push-down",permalink:"/docs/next/security/authorization-push-down"}},o={},c=[{value:"Overview",id:"overview",level:2},{value:"Gravitino Privilege Model",id:"gravitino-privilege-model",level:3},{value:"Concept",id:"concept",level:2},{value:"Authorization",id:"authorization",level:3},{value:"Build-in Authorization",id:"build-in-authorization",level:4},{value:"Authorization push down",id:"authorization-push-down",level:4},{value:"Authentication",id:"authentication",level:3},{value:"Role",id:"role",level:3},{value:"Privilege",id:"privilege",level:3},{value:"Ownership",id:"ownership",level:3},{value:"User",id:"user",level:3},{value:"Group",id:"group",level:3},{value:"Metadata objects",id:"metadata-objects",level:3},{value:"Securable objects",id:"securable-objects",level:3},{value:"The types of roles",id:"the-types-of-roles",level:2},{value:"Service Admin",id:"service-admin",level:3},{value:"Custom Roles",id:"custom-roles",level:3},{value:"The types of privileges",id:"the-types-of-privileges",level:2},{value:"User privileges",id:"user-privileges",level:3},{value:"Group privileges",id:"group-privileges",level:3},{value:"Role privileges",id:"role-privileges",level:3},{value:"Permission privileges",id:"permission-privileges",level:3},{value:"Catalog privileges",id:"catalog-privileges",level:3},{value:"Schema privileges",id:"schema-privileges",level:3},{value:"Table privileges",id:"table-privileges",level:3},{value:"Topic privileges",id:"topic-privileges",level:3},{value:"Fileset privileges",id:"fileset-privileges",level:3},{value:"Model privileges",id:"model-privileges",level:3},{value:"Inheritance Model",id:"inheritance-model",level:2},{value:"Privilege Condition",id:"privilege-condition",level:2},{value:"Server Configuration",id:"server-configuration",level:2},{value:"User Operation",id:"user-operation",level:2},{value:"Add a user",id:"add-a-user",level:3},{value:"List users",id:"list-users",level:3},{value:"Get a user",id:"get-a-user",level:3},{value:"Delete a user",id:"delete-a-user",level:3},{value:"Group Operation",id:"group-operation",level:2},{value:"Add a Group",id:"add-a-group",level:3},{value:"List groups",id:"list-groups",level:3},{value:"Get a group",id:"get-a-group",level:3},{value:"Delete a group",id:"delete-a-group",level:3},{value:"Role Operation",id:"role-operation",level:2},{value:"Create a role",id:"create-a-role",level:3},{value:"List roles",id:"list-roles",level:3},{value:"List roles for the metadata object",id:"list-roles-for-the-metadata-object",level:3},{value:"Get a role",id:"get-a-role",level:3},{value:"Delete a role",id:"delete-a-role",level:3},{value:"Permission Operation",id:"permission-operation",level:2},{value:"Grant privileges to a role",id:"grant-privileges-to-a-role",level:3},{value:"Revoke privileges from a role",id:"revoke-privileges-from-a-role",level:3},{value:"Grant roles to a user",id:"grant-roles-to-a-user",level:3},{value:"Revoke roles from a user",id:"revoke-roles-from-a-user",level:3},{value:"Grant roles to a group",id:"grant-roles-to-a-group",level:3},{value:"Revoke roles from a group",id:"revoke-roles-from-a-group",level:3},{value:"Ownership Operation",id:"ownership-operation",level:2},{value:"get the owner",id:"get-the-owner",level:3},{value:"set the owner",id:"set-the-owner",level:3},{value:"Example",id:"example",level:2},{value:"API required conditions",id:"api-required-conditions",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components},{TabItem:n,Tabs:i}=t;return n||j("TabItem",!0),i||j("Tabs",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(t.p,{children:"Apache Gravitino is a technical data catalog that uses a unified metadata paradigm to manage multiple data sources while still allowing multiple engines like Spark, Trino, and Flink, or Python to connect to these data sources for data processing through Gravitino."}),"\n",(0,l.jsx)(t.p,{children:"Because each underlying data source will have its own access control system, it can be difficult to plug in data engines with the intent of querying multiple of these data at once.\nThis is especially important for data governance practitioners who have to worry about data access restrictions and data compliance issues, but this is streamlined through Gravitino.\nTherefore, in the hopes of solving this big data issue, Gravitino plans to implement a universal set of privilege models and paradigms.\nWith this, users will be able to manage all of their data sources on a single access plane, regardless of whether the data source is a database, or a message queue or an object storage system."}),"\n",(0,l.jsx)(t.p,{children:"After authorizing these data sources within Gravitino\u2019s metadata lake, authentication can then be performed in Spark, Trino, and Flink Engines, as well as our Python client.\nThis abstraction allows users to control access to data and make compliant use of the data without having to obstruct other teams and worrying about the tedious work of individual access control systems."}),"\n",(0,l.jsx)(t.h3,{id:"gravitino-privilege-model",children:"Gravitino Privilege Model"}),"\n",(0,l.jsx)(t.p,{children:"Gravitino\u2019s unified management model allows for each data source to have its own authorization features. However, each data source may come with its own dedicated authorization model and methods.\nWe may not be able to properly set permissions to the underlying system, so when a given user tries to access this data, the underlying authorization system may result in permission inconsistencies and cause issues for external access.\nTo mitigate this issue, Gravitino aims to provide a unified authorization model and accompanying methods that sit on top of all the data sources instead, making it much easier to manage access privileges."}),"\n",(0,l.jsx)(t.p,{children:"It is important to note that Gravitino\u2019s authorization model will not merge the access control systems of the underlying data sources to form a large and unwieldy set of privileges.\nInstead, We will summarize the usage of the privileges currently in use within the data system, and offer a set of Gravitino-native privilege models that accurately reflect it."}),"\n",(0,l.jsx)(t.p,{children:"This is so that when users and data engines use Gravitino for data processing, this permission model is used to address the complexity of managing access control for different data sources.\nThis set of permission models is meant to keep everything within the Gravitino system while still managing the access control settings of different data sources separately."}),"\n",(0,l.jsx)(t.p,{children:"Gravitino adopts RBAC and DAC."}),"\n",(0,l.jsx)(t.p,{children:"Role-based Access Control (RBAC): Access privileges are assigned to roles, which are in turn assigned to users or groups."}),"\n",(0,l.jsx)(t.p,{children:"Discretionary Access Control(DAC): Each metadata object has an owner, who can in turn grant access to that object."}),"\n",(0,l.jsx)(t.admonition,{type:"info",children:(0,l.jsx)(t.p,{children:"Gravitino only supports authorization for securable objects, when Gravitino supports to pass the privileges to underlying authorization plugin.\nGravitino doesn't support metadata authentication. It means that Gravitino won't check the privileges when Gravitino receives the requests."})}),"\n",(0,l.jsx)(t.h2,{id:"concept",children:"Concept"}),"\n",(0,l.jsx)(t.h3,{id:"authorization",children:"Authorization"}),"\n",(0,l.jsx)(t.h4,{id:"build-in-authorization",children:"Build-in Authorization"}),"\n",(0,l.jsx)(t.p,{children:"Gravitino provides built-in metadata authorization. You can enable the built-in metadata authorization through the following configuration."}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{children:"gravitino.authorization.enable = true\n"})}),"\n",(0,l.jsx)(t.p,{children:"You can close the built-in metadata authorization through the following configuration."}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{children:"gravitino.authorization.impl = org.apache.gravitino.server.authorization.PassThroughAuthorizer\n"})}),"\n",(0,l.jsx)(t.admonition,{type:"info",children:(0,l.jsx)(t.p,{children:"Built-in metadata authorization depends on the authentication feature. To use the built-in metadata authorization, authentication must be enabled and privileges must be granted to users.You can see the privileges required for different REST APIs in the [API required conditions](##API required conditions)."})}),"\n",(0,l.jsx)(t.h4,{id:"authorization-push-down",children:"Authorization push down"}),"\n",(0,l.jsxs)(t.p,{children:["Gravitino also provides a set of authorization frameworks to interact with different underlying data source\nauthorization systems (e.g., MySQL's own access control management and the Apache Ranger access control management system for big data)\nin accordance with its own authorization model and methodology.\nMore information you can see the ",(0,l.jsx)(t.a,{href:"/docs/next/security/authorization-push-down",children:"Authorization push down"}),"."]}),"\n",(0,l.jsx)(t.h3,{id:"authentication",children:"Authentication"}),"\n",(0,l.jsx)(t.p,{children:"As mentioned above, Gravitino uses Ownership to control the privileges of securable object in the management category and uses Role to control access securable objects,\nso when a user performs a specific operation on a specified resource,\nGravitino will perform a composite authentication on the Ownership and Role to which the securable object belongs.\nWhen a user has more than one Role, Gravitino will use the user's all the Roles for authentication."}),"\n",(0,l.jsx)(t.h3,{id:"role",children:"Role"}),"\n",(0,l.jsx)(t.p,{children:"The traditional access control system generally uses RBAC (Role-Based Access Control) for access control management,\nwhere each Role contains a collection of different operating privileges for a different securable object.\nWhen the system adds a new user or user group, you can select the Roles which they are expected to be granted to,\nso that the user can quickly start using it, without waiting for the administrator to gradually set up the access privileges to securable object for him."}),"\n",(0,l.jsx)(t.p,{children:"Roles also employ the concept of ownership \u2013 the owner of a Role is by default the creator of the Role,\nimplying the owner has all the access control to operate the Role, including deleting the Role."}),"\n",(0,l.jsx)(t.h3,{id:"privilege",children:"Privilege"}),"\n",(0,l.jsx)(t.p,{children:"Privilege is a specific operation method for securable object, if you need to control fine-grained privileges on a securable object in the system,\nthen you need to design many different Privileges, however, too many Privileges will cause too complicated settings in the authorization."}),"\n",(0,l.jsxs)(t.p,{children:["If you only need to carry out coarse-grained privilege control on the securable object in the system, then you only need to design a small number of Privileges,\nbut it will result in too weak control ability when the authentication. Therefore, the design of Privilege is an important trade-off in the access control system.\nWe know that Privilege is generally divided into two types, one is the management category of Privilege, such as the ",(0,l.jsx)(t.code,{children:"CREATE"}),", ",(0,l.jsx)(t.code,{children:"DELETE"})," resource privilege,\nand the other is the operation category of Privilege, such as the ",(0,l.jsx)(t.code,{children:"READ"})," and ",(0,l.jsx)(t.code,{children:"WRITE"})," resource privilege."]}),"\n",(0,l.jsx)(t.p,{children:"In most organizations, the number of data managers is much smaller than the number of data users.\nBecause it is the data users who need fine-grained privilege control,\nwe must provide more Privileges related to usage and more tightly gatekeeper the administrative Privileges.\nTo enforce this, we\u2019ll introduce the concept of Ownership as a complete replacement for the administrative category of Privilege."}),"\n",(0,l.jsx)(t.h3,{id:"ownership",children:"Ownership"}),"\n",(0,l.jsx)(t.p,{children:"When you create a securable object (Gravitino Service, Metalake, Catalog, and any other entity) in Gravitino, each entity has an Owner field that defines the user (or group) to which the resource belongs.\nThe owner of each entity has implicit administrative class privilege, for example, to delete that securable object.\nOnly the Owner of a securable object can fully manage that resource.\nIf a securable object needs to be managed by more than one person at the same time, the owner is assigned to a user group."}),"\n",(0,l.jsx)(t.p,{children:"The metadata object that supports ownership is as follows:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.th,{children:"Metadata Object Type"})})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.td,{children:"Metalake"})}),(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.td,{children:"Catalog"})}),(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.td,{children:"Schema"})}),(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.td,{children:"Table"})}),(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.td,{children:"Topic"})}),(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.td,{children:"Fileset"})}),(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.td,{children:"Role"})}),(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.td,{children:"Model"})})]})]}),"\n",(0,l.jsx)(t.h3,{id:"user",children:"User"}),"\n",(0,l.jsx)(t.p,{children:"Users are generally granted one or multiple Roles, and users have different operating privileges depending on their Role."}),"\n",(0,l.jsx)(t.h3,{id:"group",children:"Group"}),"\n",(0,l.jsx)(t.p,{children:"To make it easier to grant a single access control to multiple users, we can add users to a user group, and then grant one or multiple roles to that user group.\nThis process allows all users belonging to that user group to have the access control in those roles."}),"\n",(0,l.jsx)(t.h3,{id:"metadata-objects",children:"Metadata objects"}),"\n",(0,l.jsxs)(t.p,{children:["Metadata objects are managed in Gravitino, such as ",(0,l.jsx)(t.code,{children:"CATALOG"}),", ",(0,l.jsx)(t.code,{children:"SCHEMA"}),", ",(0,l.jsx)(t.code,{children:"TABLE"}),",\n",(0,l.jsx)(t.code,{children:"COLUMN"}),", ",(0,l.jsx)(t.code,{children:"FILESET"}),", ",(0,l.jsx)(t.code,{children:"TOPIC"}),", ",(0,l.jsx)(t.code,{children:"COLUMN"}),", ",(0,l.jsx)(t.code,{children:"ROLE"}),", ",(0,l.jsx)(t.code,{children:"METALAKE"}),". A metadata object is combined by a ",(0,l.jsx)(t.code,{children:"type"})," and a\ncomma-separated ",(0,l.jsx)(t.code,{children:"name"}),". For example, a ",(0,l.jsx)(t.code,{children:"CATALOG"}),' object has a name "catalog1" with type\n"CATALOG", a ',(0,l.jsx)(t.code,{children:"SCHEMA"}),' object has a name "catalog1.schema1" with type "SCHEMA", a ',(0,l.jsx)(t.code,{children:"TABLE"}),'\nobject has a name "catalog1.schema1.table1" with type "TABLE". A ',(0,l.jsx)(t.code,{children:"METALAKE"}),' object has a name "metalake1".']}),"\n",(0,l.jsx)(t.h3,{id:"securable-objects",children:"Securable objects"}),"\n",(0,l.jsx)(t.p,{children:"A metadata object to which access can be granted. Unless allowed by a grant, access is denied.\nEvery securable object resides within a logical container in a hierarchy of containers.\nThe top container is the metalake.\nCatalogs are under the metalake. Catalogs represent different kinds of data sources.\nSchemas are under the catalog. There are tables, topics, or filesets under the schema."}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{alt:"object_image",src:a(85306).A+"",width:"4328",height:"2088"})}),"\n",(0,l.jsx)(t.p,{children:"The relationship of the concepts is as below."}),"\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.img,{alt:"user_group_relationship_image",src:a(49467).A+"",width:"2848",height:"2128"}),"\n",(0,l.jsx)(t.img,{alt:"concept_relationship_image",src:a(53391).A+"",width:"2284",height:"1804"})]}),"\n",(0,l.jsx)(t.h2,{id:"the-types-of-roles",children:"The types of roles"}),"\n",(0,l.jsx)(t.h3,{id:"service-admin",children:"Service Admin"}),"\n",(0,l.jsx)(t.p,{children:"Service admin is only used for managing the metalakes. Usually, this role is for the maintainer of the service."}),"\n",(0,l.jsx)(t.h3,{id:"custom-roles",children:"Custom Roles"}),"\n",(0,l.jsx)(t.p,{children:"You can also create a dedicated role for your business by API or the client."}),"\n",(0,l.jsx)(t.h2,{id:"the-types-of-privileges",children:"The types of privileges"}),"\n",(0,l.jsx)(t.h3,{id:"user-privileges",children:"User privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"MANAGE_USERS"}),(0,l.jsx)(t.td,{children:"Metalake"}),(0,l.jsx)(t.td,{children:"Add or remove users"})]})})]}),"\n",(0,l.jsx)(t.h3,{id:"group-privileges",children:"Group privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"MANAGE_GROUPS"}),(0,l.jsx)(t.td,{children:"Metalake"}),(0,l.jsx)(t.td,{children:"Add or remove groups"})]})})]}),"\n",(0,l.jsx)(t.h3,{id:"role-privileges",children:"Role privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"CREATE_ROLE"}),(0,l.jsx)(t.td,{children:"Metalake"}),(0,l.jsx)(t.td,{children:"Create a role"})]})})]}),"\n",(0,l.jsx)(t.h3,{id:"permission-privileges",children:"Permission privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"MANAGE_GRANTS"}),(0,l.jsx)(t.td,{children:"Metalake"}),(0,l.jsx)(t.td,{children:"Manages roles granted to or revoked from the user or group, and privilege granted to or revoked from the role"})]})})]}),"\n",(0,l.jsx)(t.h3,{id:"catalog-privileges",children:"Catalog privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"CREATE_CATALOG"}),(0,l.jsx)(t.td,{children:"Metalake"}),(0,l.jsx)(t.td,{children:"Create a catalog"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"USE_CATALOG"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog"}),(0,l.jsx)(t.td,{children:"Use a catalog"})]})]})]}),"\n",(0,l.jsxs)(t.admonition,{type:"info",children:[(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"USE_CATALOG"})," is needed for a user to interact with any object within the catalog."]}),(0,l.jsxs)(t.p,{children:["For example, to select data from a table, users need to have the ",(0,l.jsx)(t.code,{children:"SELECT_TABLE"})," privilege on that table and\n",(0,l.jsx)(t.code,{children:"USE_CATALOG"})," privileges on its parent catalog as well as ",(0,l.jsx)(t.code,{children:"USE_SCHEMA"})," privileges on its parent schema."]})]}),"\n",(0,l.jsx)(t.h3,{id:"schema-privileges",children:"Schema privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"CREATE_SCHEMA"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog"}),(0,l.jsx)(t.td,{children:"Create a schema"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"USE_SCHEMA"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema"}),(0,l.jsx)(t.td,{children:"Use a schema"})]})]})]}),"\n",(0,l.jsxs)(t.admonition,{type:"info",children:[(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"USE_SCHEMA"}),"is needed for a user to interact with any object within the schema."]}),(0,l.jsxs)(t.p,{children:["For example, to select data from a table, users need to have the ",(0,l.jsx)(t.code,{children:"SELECT_TABLE"})," privilege on that table\nand ",(0,l.jsx)(t.code,{children:"USE_SCHEMA"})," privileges on its parent schema."]})]}),"\n",(0,l.jsx)(t.h3,{id:"table-privileges",children:"Table privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"CREATE_TABLE"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema"}),(0,l.jsx)(t.td,{children:"Create a table"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"MODIFY_TABLE"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema, Table"}),(0,l.jsx)(t.td,{children:"Select data from a data, write data to a table or modify the table schema"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"SELECT_TABLE"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema, Table"}),(0,l.jsx)(t.td,{children:"Select data from a table"})]})]})]}),"\n",(0,l.jsxs)(t.p,{children:["DENY ",(0,l.jsx)(t.code,{children:"MODIFY_TABLE"})," won't deny the ",(0,l.jsx)(t.code,{children:"SELECT_TABLE"})," operation if the user has the privilege to ",(0,l.jsx)(t.code,{children:"ALLOW SELECT_TABLE"})," on the table.\nDENY ",(0,l.jsx)(t.code,{children:"SELECT_TABLE"})," won\u2018t deny the ",(0,l.jsx)(t.code,{children:"MODIFY_TABLE"})," operation if the user has the privilege ",(0,l.jsx)(t.code,{children:"ALLOW MODIFY_TABLE"})," on the table."]}),"\n",(0,l.jsx)(t.h3,{id:"topic-privileges",children:"Topic privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"CREATE_TOPIC"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema"}),(0,l.jsx)(t.td,{children:"Create a topic"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"PRODUCE_TOPIC"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema, Topic"}),(0,l.jsx)(t.td,{children:"Consume and produce a topic (including alter a topic)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"CONSUME_TOPIC"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema, Topic"}),(0,l.jsx)(t.td,{children:"Consume a topic"})]})]})]}),"\n",(0,l.jsxs)(t.p,{children:["DENY ",(0,l.jsx)(t.code,{children:"PRODUCE_TOPIC"})," won't deny the ",(0,l.jsx)(t.code,{children:"COMSUME_TOPIC"})," operation if the user has the privilege to ",(0,l.jsx)(t.code,{children:"ALLOW CONSUME_TOPIC"})," on the topic.\nDENY ",(0,l.jsx)(t.code,{children:"CONSUME_TOPIC"})," won\u2018t deny the ",(0,l.jsx)(t.code,{children:"PRODUCE_TOPIC"})," operation if the user has the privilege ",(0,l.jsx)(t.code,{children:"ALLOW PRODUCE_TOPIC"})," on the topic."]}),"\n",(0,l.jsx)(t.h3,{id:"fileset-privileges",children:"Fileset privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"CREATE_FILESET"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema"}),(0,l.jsx)(t.td,{children:"Create a fileset"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"WRITE_FILESET"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema, Fileset"}),(0,l.jsx)(t.td,{children:"Read and write a fileset (including alter a fileset)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"READ_FILESET"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema, Fileset"}),(0,l.jsx)(t.td,{children:"Read a fileset"})]})]})]}),"\n",(0,l.jsxs)(t.p,{children:["DENY ",(0,l.jsx)(t.code,{children:"READ_FILESET"})," won't deny the ",(0,l.jsx)(t.code,{children:"WRITE_FILESET"})," operation if the user has the privilege to ",(0,l.jsx)(t.code,{children:"ALLOW WRITE_FILESET"})," on the fileset.\nDENY ",(0,l.jsx)(t.code,{children:"WRITE_FILESET"})," won\u2018t deny the ",(0,l.jsx)(t.code,{children:"READ_FILESET"})," operation if the user has the privilege ",(0,l.jsx)(t.code,{children:"ALLOW READ_FILESET"})," on the fileset."]}),"\n",(0,l.jsx)(t.h3,{id:"model-privileges",children:"Model privileges"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Name"}),(0,l.jsx)(t.th,{children:"Supports Securable Object"}),(0,l.jsx)(t.th,{children:"Operation"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"CREATE_MODEL"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema"}),(0,l.jsx)(t.td,{children:"Create a model"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"CREATE_MODEL_VERSION"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema, Model"}),(0,l.jsx)(t.td,{children:"Create a model version"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"USE_MODEL"}),(0,l.jsx)(t.td,{children:"Metalake, Catalog, Schema, Model"}),(0,l.jsx)(t.td,{children:"View the metadata of the model and download all the model versions"})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"inheritance-model",children:"Inheritance Model"}),"\n",(0,l.jsx)(t.p,{children:"Securable objects in Gravitino are hierarchical and privileges are inherited downward."}),"\n",(0,l.jsx)(t.p,{children:"This means that granting a privilege on a metalake, catalog or schema automatically grants\nthe privilege to all current and future objects within the metalake, catalog or schema."}),"\n",(0,l.jsxs)(t.p,{children:["For example, if you give a use that ",(0,l.jsx)(t.code,{children:"SELECT_TABLE"})," privilege on a catalog, then that the user\nwill be able to select(read) all tables in that catalog."]}),"\n",(0,l.jsx)(t.h2,{id:"privilege-condition",children:"Privilege Condition"}),"\n",(0,l.jsxs)(t.p,{children:["The privilege supports two condition: ",(0,l.jsx)(t.code,{children:"ALLOW"})," and ",(0,l.jsx)(t.code,{children:"DENY"}),". ",(0,l.jsx)(t.code,{children:"ALLOW"})," means that you are able to use the privilege,\n",(0,l.jsx)(t.code,{children:"DENY"})," means that you aren't able to use the privilege.\n",(0,l.jsx)(t.code,{children:"DENY"})," condition is prior to ",(0,l.jsx)(t.code,{children:"ALLOW"})," condition. If a role has the ",(0,l.jsx)(t.code,{children:"ALLOW"})," condition and ",(0,l.jsx)(t.code,{children:"DENY"})," condition at the same time.\nThe user won't be able to use the privilege."]}),"\n",(0,l.jsx)(t.p,{children:"If parent securable object has the same privilege name with different condition, the securable object won't override the parent object privilege.\nFor example, securable metalake object allows to use the catalog, but securable catalog denies to use the catalog, the user isn't able to use the catalog.\nIf securable metalake object denies to use the catalog, but securable catalog allows to use the catalog, the user isn't able to use the catalog, too."}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{alt:"privilege_image",src:a(78742).A+"",width:"1844",height:"1644"})}),"\n",(0,l.jsx)(t.h2,{id:"server-configuration",children:"Server Configuration"}),"\n",(0,l.jsx)(t.p,{children:"If you want to enable the access control, you should enable the authorization."}),"\n",(0,l.jsx)(t.p,{children:"The related configuration is as follows."}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Configuration item"}),(0,l.jsx)(t.th,{children:"Description"}),(0,l.jsx)(t.th,{children:"Default value"}),(0,l.jsx)(t.th,{children:"Required"}),(0,l.jsx)(t.th,{children:"Since Version"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"gravitino.authorization.enable"})}),(0,l.jsx)(t.td,{children:"Whether Gravitino enable authorization or not."}),(0,l.jsx)(t.td,{children:"false"}),(0,l.jsx)(t.td,{children:"No"}),(0,l.jsx)(t.td,{children:"0.5.0"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"gravitino.authorization.serviceAdmins"})}),(0,l.jsx)(t.td,{children:"The admins of Gravitino service, multiple admins are spitted by comma."}),(0,l.jsx)(t.td,{children:"(none)"}),(0,l.jsx)(t.td,{children:"Yes if enables the authorization"}),(0,l.jsx)(t.td,{children:"0.5.0"})]})]})]}),"\n",(0,l.jsx)(t.admonition,{type:"info",children:(0,l.jsxs)(t.p,{children:["If you enable authorization, you should add users to the metalake first, otherwise you will fail to create metadata objects.\nIf you don't set a user explicitly, you will use ",(0,l.jsx)(t.code,{children:"anonymous"})," as the user.\nWhen you enable authorization and create a metalake, the service will add the creator to the metalake automatically."]})}),"\n",(0,l.jsx)(t.h2,{id:"user-operation",children:"User Operation"}),"\n",(0,l.jsx)(t.h3,{id:"add-a-user",children:"Add a user"}),"\n",(0,l.jsx)(t.p,{children:"You should add the user to your metalake before you use the authorization."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X POST -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n  "name": "user1"\n}\' http://localhost:8090/api/metalakes/test/users\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nUser user =\n    client.addUser("user1");\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"list-users",children:"List users"}),"\n",(0,l.jsx)(t.p,{children:"You can list the created users in a metalake.\nReturns the list of users if details is true, otherwise returns the list of user name."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/users/\n\ncurl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/users/?details=true\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:"GravitinoClient client = ...\nString[] usernames = client.listUserNames();\n\nUser[] users = client.listUsers();\n"})})})]}),"\n",(0,l.jsx)(t.h3,{id:"get-a-user",children:"Get a user"}),"\n",(0,l.jsx)(t.p,{children:"You can get a user by its name."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/users/user1\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nUser user =\n    client.getUser("user1");\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"delete-a-user",children:"Delete a user"}),"\n",(0,l.jsx)(t.p,{children:"You can delete a user by its name."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X DELETE -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/users/user1\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nboolean deleted =\n    client.deleteUser("user1");\n'})})})]}),"\n",(0,l.jsx)(t.h2,{id:"group-operation",children:"Group Operation"}),"\n",(0,l.jsx)(t.h3,{id:"add-a-group",children:"Add a Group"}),"\n",(0,l.jsx)(t.p,{children:"You should add the group to your metalake before you use the authorization."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X POST -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n  "name": "group1"\n}\' http://localhost:8090/api/metalakes/test/groups\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nGroup group =\n    client.addGroup("group1");\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"list-groups",children:"List groups"}),"\n",(0,l.jsx)(t.p,{children:"You can list the created groups in a metalake.\nReturns the list of groups if details is true, otherwise returns the list of group name."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/groups/\n\ncurl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/groups/?details=true\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:"GravitinoClient client = ...\nString[] usernames = client.listGroupNames();\n\nUser[] users = client.listGroups();\n"})})})]}),"\n",(0,l.jsx)(t.h3,{id:"get-a-group",children:"Get a group"}),"\n",(0,l.jsx)(t.p,{children:"You can get a group by its name."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/groups/group1\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nGroup group =\n    client.getGroup("group1");\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"delete-a-group",children:"Delete a group"}),"\n",(0,l.jsx)(t.p,{children:"You can delete a group by its name."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X DELETE -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/groups/group1\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nboolean deleted =\n    client.deleteGroup("group1");\n'})})})]}),"\n",(0,l.jsx)(t.h2,{id:"role-operation",children:"Role Operation"}),"\n",(0,l.jsx)(t.h3,{id:"create-a-role",children:"Create a role"}),"\n",(0,l.jsx)(t.p,{children:"You can create a role by given properties."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X POST -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n   "name": "role1",\n   "properties": {"k1": "v1"},\n   "securableObjects": [\n          {\n             "fullName": "catalog1.schema1.table1",\n             "type": "TABLE",\n             "privileges": [\n                    {\n                         "name": "SELECT_TABLE",\n                         "condition": "ALLOW"\n                    }\n             ]    \n          }\n   ]\n}\' http://localhost:8090/api/metalakes/test/roles\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\n\nSecurableObject securableObject =\n    SecurableObjects.ofTable(\n        SecurableObjects.ofSchema(\n            SecurableObjects.ofCatalog("catalog1", Collections.emptyList()),\n            "schema1",\n            Collections.emptyList()),\n        "table1",\n        Lists.newArrayList(Privileges.SelectTable.allow()));\n      \nRole role =\n    client.createRole("role1", ImmutableMap.of("k1", "v1"), Lists.newArrayList(securableObject));\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"list-roles",children:"List roles"}),"\n",(0,l.jsx)(t.p,{children:"You can list the created roles in a metalake."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/roles/\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:"GravitinoClient client = ...\nString[] usernames = client.listRoleNames();\n"})})})]}),"\n",(0,l.jsx)(t.h3,{id:"list-roles-for-the-metadata-object",children:"List roles for the metadata object"}),"\n",(0,l.jsx)(t.p,{children:"You can list the binding roles for a metadata object in a metalake."}),"\n",(0,l.jsxs)(t.p,{children:["The request path for REST API is ",(0,l.jsx)(t.code,{children:"/api/metalakes/{metalake}/objects/{metadataObjectType}/{metadataObjectName}/roles"}),"."]}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\nhttp://localhost:8090/api/metalakes/test/objects/catalog/catalog1/roles\n\ncurl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\nhttp://localhost:8090/api/metalakes/test/objects/schema/catalog1.schema1/roles\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:"Catalog catalog1 = ..\nString[] roles = catalog1.supportsRoles().listBindingRoleNames();\n\nSchema schema1 = ...\nString[] roles = schema1.supportsRoles().listBindingRoleNames();\n"})})})]}),"\n",(0,l.jsx)(t.h3,{id:"get-a-role",children:"Get a role"}),"\n",(0,l.jsx)(t.p,{children:"You can get a role by its name."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json"  http://localhost:8090/api/metalakes/test/roles/role1\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nRole role =\n    client.getRole("role1");\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"delete-a-role",children:"Delete a role"}),"\n",(0,l.jsx)(t.p,{children:"You can delete a role by its name."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X DELETE -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/roles/role1\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nboolean deleted =\n    client.deleteRole("role1");\n'})})})]}),"\n",(0,l.jsx)(t.h2,{id:"permission-operation",children:"Permission Operation"}),"\n",(0,l.jsx)(t.h3,{id:"grant-privileges-to-a-role",children:"Grant privileges to a role"}),"\n",(0,l.jsxs)(t.p,{children:["You can grant specific privileges to a role.\nThe request path for REST API is ",(0,l.jsx)(t.code,{children:"/api/metalakes/{metalake}/permissions/roles/{role}/{metadataObjectType}/{metadataObjectName}/grant"}),"."]}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X PUT -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n    "privileges": [\n      {\n      "name": "SELECT_TABLE",\n      "condition": "ALLOW"\n      }]\n}\' http://localhost:8090/api/metalakes/test/permissions/roles/role1/schema/catalog1.schema1/grant\n\ncurl -X PUT -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n    "privileges": [\n      {\n      "name": "SELECT_TABLE",\n      "condition": "ALLOW"\n      }]\n}\' http://localhost:8090/api/metalakes/test/permissions/roles/role1/table/catalog1.schema1.table1/grant\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\n\n// Grant the privilege allowing `SELEC_TABLE` for the `schema` to `role1`        \nMetadataObject schema = ...\nRole role = client.grantPrivilegesToRole("role1", schema, Lists.newArrayList(Privileges.SelectTable.allow()));        \n\n// Grant the privilege allowing `SELEC_TABLE` for the `table` to `role1`        \nMetadataObject table = ...\nRole role = client.grantPrivilegesToRole("role1", table, Lists.newArrayList(Privileges.SelectTable.allow()));\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"revoke-privileges-from-a-role",children:"Revoke privileges from a role"}),"\n",(0,l.jsxs)(t.p,{children:["You can revoke specific privileges from a role.\nThe request path for REST API is ",(0,l.jsx)(t.code,{children:"/api/metalakes/{metalake}/permissions/roles/{role}/{metadataObjectType}/{metadataObjectName}/revoke"}),"."]}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X PUT -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n    "privileges": [\n      {\n      "name": "SELECT_TABLE",\n      "condition": "ALLOW"\n      }]\n}\' http://localhost:8090/api/metalakes/test/permissions/roles/role1/schema/catalog1.schema1/revoke\n\ncurl -X PUT -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n    "privileges": [\n      {\n      "name": "SELECT_TABLE",\n      "condition": "ALLOW"\n      }]\n}\' http://localhost:8090/api/metalakes/test/permissions/roles/role1/table/catalog1.schema1.table1/revoke\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\n\n// Revoke the privilege allowing `SELEC_TABLE` for the `schema` from `role1`         \nMetadataObject schema = ...\nRole role = client.revokePrivilegesFromRole("role1", schema, Lists.newArrayList(Privileges.SelectTable.allow()));\n\n// Revoke the privilege allowing `SELEC_TABLE` for the `table` from `role1`         \nMetadataObject table = ...\nRole role = client.revokePrivilegesFromRole("role1", table, Lists.newArrayList(Privileges.SelectTable.allow()));\n\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"grant-roles-to-a-user",children:"Grant roles to a user"}),"\n",(0,l.jsx)(t.p,{children:"You can grant specific roles to a user."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X PUT -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n    "roleNames": ["role1"]\n}\' http://localhost:8090/api/metalakes/test/permissions/users/user1/grant\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nUser user = client.grantRolesToUser(Lists.newList("role1"), "user1");\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"revoke-roles-from-a-user",children:"Revoke roles from a user"}),"\n",(0,l.jsx)(t.p,{children:"You can revoke specific roles from a user."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X PUT -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n    "roleNames": ["role1"]\n}\' http://localhost:8090/api/metalakes/test/permissions/users/user1/revoke\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nUser user = client.revokeRolesFromUser(Lists.newList("role1"), "user1");\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"grant-roles-to-a-group",children:"Grant roles to a group"}),"\n",(0,l.jsx)(t.p,{children:"You can grant specific roles to a group."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X PUT -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n    "roleNames": ["role1"]\n}\' http://localhost:8090/api/metalakes/test/permissions/groups/group1/grant\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nGroup group = client.grantRolesToGroup(Lists.newList("role1"), "group1");\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"revoke-roles-from-a-group",children:"Revoke roles from a group"}),"\n",(0,l.jsx)(t.p,{children:"You can revoke specific roles from a group."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X PUT -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n    "roleNames": ["role1"]\n}\' http://localhost:8090/api/metalakes/test/permissions/groups/group1/revoke\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\nGroup group = client.revokeRolesFromGroup(Lists.newList("role1"), "group1");\n'})})})]}),"\n",(0,l.jsx)(t.h2,{id:"ownership-operation",children:"Ownership Operation"}),"\n",(0,l.jsx)(t.h3,{id:"get-the-owner",children:"get the owner"}),"\n",(0,l.jsx)(t.p,{children:"You can get the owner of a metadata object."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" http://localhost:8090/api/metalakes/test/owners/table/catalog1.schema1.table1\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\n\nMetadataObject table =\n        MetadataObjects.of(Lists.newArrayList("catalog1", "schema1", "table1"), MetadataObject.Type.TABLE);        \n\nOwner owner = client.getOwner(table);\n'})})})]}),"\n",(0,l.jsx)(t.h3,{id:"set-the-owner",children:"set the owner"}),"\n",(0,l.jsx)(t.p,{children:"You can set the owner of a metadata object."}),"\n",(0,l.jsxs)(i,{groupId:"language",queryString:!0,children:[(0,l.jsx)(n,{value:"shell",label:"Shell",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-shell",children:'curl -X PUT -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" -d \'{\n    "name": "user1",\n    "type": "USER"\n}\' http://localhost:8090/api/metalakes/test/owners/table/catalog1.schema1.table1\n'})})}),(0,l.jsx)(n,{value:"java",label:"Java",children:(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-java",children:'GravitinoClient client = ...\n\nMetadataObject table =\n        MetadataObjects.of(Lists.newArrayList("catalog1", "schema1", "table1"), MetadataObject.Type.TABLE);        \n\nclient.setOwner(table, "user1", "USER");\n'})})})]}),"\n",(0,l.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,l.jsx)(t.p,{children:"You can follow the steps to achieve the authorization of Gravitino."}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{alt:"concept_workflow_image",src:a(25224).A+"",width:"3604",height:"2124"})}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsx)(t.p,{children:"Service admin configures the Gravitino server to enable authorization and creates a metalake."}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:["Service admin adds the user ",(0,l.jsx)(t.code,{children:"Manager"})," to the metalake."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:["Service admin sets the ",(0,l.jsx)(t.code,{children:"Manager"})," as the owner of the metalake."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Manager"})," adds the user ",(0,l.jsx)(t.code,{children:"Staff"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Manager"})," creates a specific role ",(0,l.jsx)(t.code,{children:"catalog_manager"})," with ",(0,l.jsx)(t.code,{children:"CREATE_CATALOG"})," privilege."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Manager"})," grants the role ",(0,l.jsx)(t.code,{children:"catalog_manager"})," to the user ",(0,l.jsx)(t.code,{children:"Staff"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Staff"})," creates a Hive type catalog."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Staff"})," creates a schema ",(0,l.jsx)(t.code,{children:"hive_db"})," for Hive catalog."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Staff"})," creates a table ",(0,l.jsx)(t.code,{children:"hive_table"})," under the schema ",(0,l.jsx)(t.code,{children:"hive_db"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Staff"})," creates a MySQL type catalog."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Staff"})," creates a schema ",(0,l.jsx)(t.code,{children:"mysql_db"})," for MySQL catalog."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Staff"})," creates a table ",(0,l.jsx)(t.code,{children:"mysql_table"})," under the schema ",(0,l.jsx)(t.code,{children:"mysql_db"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.code,{children:"Staff"})," can use Gravitino connector to query the tables from different catalogs."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"api-required-conditions",children:"API required conditions"}),"\n",(0,l.jsx)(t.p,{children:"The following table lists the required privileges for each API."}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"API"}),(0,l.jsx)(t.th,{children:"Required Conditions(s)"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"create metalake"}),(0,l.jsx)(t.td,{children:"The user must be the service admins, configured in the server configurations."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"load metalake"}),(0,l.jsx)(t.td,{children:"The user is in the metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"alter metalake"}),(0,l.jsx)(t.td,{children:"The owner of the metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"drop metalake"}),(0,l.jsx)(t.td,{children:"The owner of the metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"create catalog"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"CREATE_CATALOG"})," on the metalake or the owner of the metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"alter catalog"}),(0,l.jsx)(t.td,{children:"The owner of the catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"drop catalog"}),(0,l.jsx)(t.td,{children:"The owner of the catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list catalog"}),(0,l.jsx)(t.td,{children:"The owner of the metalake can see all the catalogs, others can see the catalogs which they can load"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"load catalog"}),(0,l.jsxs)(t.td,{children:["The one of owners of the metalake, catalog or have ",(0,l.jsx)(t.code,{children:"USE_CATALOG"})," on the metalake,catalog"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"create schema"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"CREATE_SCHEMA"})," and ",(0,l.jsx)(t.code,{children:"USE_CATALOG"})," on the metalake, catalog or the owner of the metalake, catalog."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"alter schema"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog. Then, you are one of the owners of the schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"drop schema"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog. Then, you are one of the owners of the schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list schema"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog. Then, the owner of the metalake, catalog can see all the schemas, others can see the schemas which they can load."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"load schema"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog. Then, you are the owner of the metalake, catalog, schema or have ",(0,l.jsx)(t.code,{children:"USE_SCHEMA"})," on the metalake, catalog, schema."]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"create table"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. ",(0,l.jsx)(t.code,{children:"CREATE_TABLE"})," on the metalake, catalog, schema or the owner of the metalake, catalog, schema"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"alter table"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the table, schema,catalog, metalake or have ",(0,l.jsx)(t.code,{children:"MODIFY_TABLE"})," on the table, schema, catalog, metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"drop table"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the table, schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list table"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, the owner of the schema, catalog, metalake can see all the tables, others can see the tables which they can load"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"load table"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the table, schema, metalake, catalog or have either ",(0,l.jsx)(t.code,{children:"SELECT_TABLE"})," or ",(0,l.jsx)(t.code,{children:"MODIFY_TABLE"})," on the table, schema, catalog, metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"create topic"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you have ",(0,l.jsx)(t.code,{children:"CREATE_TOPIC"})," on the metalake, catalog, schema or are the owner of the metalake, catalog, schema"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"alter topic"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the topic, schema,catalog, metalake or have ",(0,l.jsx)(t.code,{children:"PRODUCE_TOPIC"})," on the topic, schema, catalog, metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"drop topic"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the topic, schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list topic"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, the owner of the schema, catalog, metalake can see all the topics, others can see the topics which they can load"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"load topic"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the topic, schema, metalake, catalog or  have either ",(0,l.jsx)(t.code,{children:"CONSUME_TOPIC"})," or ",(0,l.jsx)(t.code,{children:"PRODUCE_TOPIC"})," on the topic, schema, catalog, metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"create fileset"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you have",(0,l.jsx)(t.code,{children:"CREATE_FILESET"})," on the metalake, catalog, schema or are the owner of the metalake, catalog, schema"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"alter fileset"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the fileset, schema,catalog, metalake or ",(0,l.jsx)(t.code,{children:"WRITE_FILESET"})," on the fileset, schema, catalog, metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"drop fileset"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the fileset, schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list fileset"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the schema, catalog, metalake can see all the filesets, others can see the filesets which they can load"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"load fileset"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the fileset, schema, metalake, catalog or have either ",(0,l.jsx)(t.code,{children:"READ_FILESET"})," or ",(0,l.jsx)(t.code,{children:"WRITE_FILESET"})," on the fileset, schema, catalog, metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list file"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the fileset, schema, metalake, catalog or have either ",(0,l.jsx)(t.code,{children:"READ_FILESET"})," or ",(0,l.jsx)(t.code,{children:"WRITE_FILESET"})," on the fileset, schema, catalog, metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"register model"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog and the schema. Then, you have ",(0,l.jsx)(t.code,{children:"CREATE_MODEL"})," on the metalake, catalog, schema or are the owner of the metalake, catalog, schema"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"link model version"}),(0,l.jsxs)(t.td,{children:["First, you should have the privilege to load the catalog, the schema and the model. Then, you have ",(0,l.jsx)(t.code,{children:"CREATE_MODEL_VERSION"})," on the metalake, catalog, schema, model or are the owner of the metalake, catalog, schema, model"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"alter model"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the model, schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"drop model"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the model, schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list model"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then the owner of the schema, catalog, metalake can see all the models, others can see the models which they can load"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"load model"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the model, schema, metalake, catalog or have `USE_MODEL on the model, schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list model version"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the model, schema, catalog, metalake or have `USE_MODEL on the model, schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"load model version"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the model, schema, metalake, catalog or have `USE_MODEL on the model, schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"load model version by alias"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the model, schema, metalake, catalog or have `USE_MODEL on the model, schema, catalog, metalake"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"delete model version"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the model, schema, metalake, catalog."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"alter model version"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the model, schema, metalake, catalog."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"delete model version alias"}),(0,l.jsx)(t.td,{children:"First, you should have the privilege to load the catalog and the schema. Then, you are one of the owners of the model, schema, metalake, catalog."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"add user"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_USERS"})," on the metalake  or the owner of the metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"delete user"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_USERS"})," on the metalake  or the owner of the metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"get user"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_USERS"})," on the metalake  or the owner of the metalake or himself"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list users"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_USERS"})," on the metalake  or the owner of the metalake can see all the users, others can see himself"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"add group"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_GROUPS"})," on the metalake or the owner of the metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"delete group"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_GROUPS"})," on the metalake or the owner of the metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"get group"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_GROUPS"})," on the metalake or the owner of the metalake or his groups"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list groups"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_GROUPS"})," on the metalake or the owner of the metalake can see all the groups, others can see his group"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"create role"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"CREATE_ROLE"})," on the metalake or the owner of the metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"delete role"}),(0,l.jsx)(t.td,{children:"The owner of the metalake or the role"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"get role"}),(0,l.jsx)(t.td,{children:"The owner of the metalake or the role. others can see his granted or owned roles."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"list roles"}),(0,l.jsx)(t.td,{children:"The owner of the metalake can see all the roles. Others can see his granted roles or owned roles."})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"grant role"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_GRANTS"})," on the metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"revoke role"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_GRANTS"})," on the metalake"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"grant privilege"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_GRANTS"})," on the metalake or the owner of the securable object"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"revoke privilege"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"MANAGE_GRANTS"})," on the metalake or the owner of the securable object"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"set owner"}),(0,l.jsx)(t.td,{children:"The owner of the securable object"})]})]})]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}function j(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);